/* ==========================================================================
   –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.
   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç 100% —ç–∫—Ä–∞–Ω–∞, –±–µ–∑ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ body.
   –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞.
   ========================================================================== */
html, body, #root {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

.container {
  height: 100%;
  width: 100%;
  display: flex;
}

/* ==========================================================================
   CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
   –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞.
   –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ @media (prefers-color-scheme: light).
   –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç: —Ñ–æ–Ω—ã, —Ç–µ–∫—Å—Ç, –≥—Ä–∞–Ω–∏—Ü—ã, –∫–Ω–æ–ø–∫–∏, –∫–æ–¥–æ–≤—ã–µ –±–ª–æ–∫–∏,
   —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞–≤–∞—Ç–∞—Ä—ã, –º–µ–Ω—é, —Ñ–∞–π–ª—ã, RAG-–∫–Ω–æ–ø–∫—É.
   ========================================================================== */
:root {
    --bg-color: #1a1a1a;
    --sidebar-bg: #2d2d2d;
    --sidebar-text: #e0e0e0;
    --sidebar-hover: #404040;
    --chat-bg: #1e1e1e;
    --text-color: #e5e5e5;
    --input-bg: #2d2d2d;
    --input-border: #404040;
    --input-focus-border: #3b82f6;
    --button-bg: transparent;
    --button-hover-bg: #404040;
    --button-color: #a0a0a0;
    --button-hover-color: #ffffff;
    --icon-color: #a0a0a0;
    --code-bg: transparent;
    --code-border: #3a3a3a;
    --code-header-bg: rgba(60, 60, 60, 0.9);
    --user-msg-bg: #2b2b2b;
    --assistant-avatar-bg: #404040;
    --menu-bg: #2d2d2d;
    --menu-border: #404040;
    --menu-hover: #404040;
    --file-bg: #2d2d2d;
    --file-border: #3a3a3a;
    --file-hover: #404040;
    --rag-btn-bg: #2d2d2d;
    --rag-btn-border: #404040;
    --rag-btn-hover-bg: #404040;
    --accent-color: #3b82f6;
}

@media (prefers-color-scheme: light) {
    :root {
        --bg-color: #f9fafb;
        --sidebar-bg: #2c3e50;
        --sidebar-text: #ecf0f1;
        --sidebar-hover: #34495e;
        --chat-bg: #ffffff;
        --text-color: #1a1a1a;
        --input-bg: #ffffff;
        --input-border: #d1d5db;
        --input-focus-border: #3b82f6;
        --button-bg: transparent;
        --button-hover-bg: #f3f4f6;
        --button-color: #6b7280;
        --button-hover-color: #1f2937;
        --icon-color: #6b7280;
        --code-bg: transparent;
        --code-border: #ddd;
        --code-header-bg: rgba(220, 220, 220, 0.9);
        --user-msg-bg: #e9e9e9;
        --assistant-avatar-bg: #d0d0d0;
        --menu-bg: #f9fafb;
        --menu-border: #d1d5db;
        --menu-hover: #e5e7eb;
        --file-bg: #f9fafb;
        --file-border: #ddd;
        --file-hover: #e5e7eb;
        --rag-btn-bg: #f9fafb;
        --rag-btn-border: #d1d5db;
        --rag-btn-hover-bg: #e5e7eb;
        --accent-color: #2563eb;
    }
}

/* ==========================================================================
   –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã.
   –¢–æ–Ω–∫–∏–µ (8px) —Å —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ –ø–æ–ª–∑—É–Ω–∫–∞–º–∏ –¥–ª—è Webkit-–±—Ä–∞—É–∑–µ—Ä–æ–≤.
   –î–ª—è Firefox –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è scrollbar-width: thin.
   ========================================================================== */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: #aaa;
}
* {
    scrollbar-width: thin;
    scrollbar-color: #888 transparent;
}

* {
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    height: 100vh;
    overflow: hidden;
}

/* ==========================================================================
   –õ–µ–≤–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (—Å–∞–π–¥–±–∞—Ä).
   –°–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ (—Å–≤–µ—Ä—Ö—É) –∏ —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ (—Å–Ω–∏–∑—É).
   –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ 280px, —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –¥–æ 200px –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö.
   ========================================================================== */
.chats-sidebar {
    width: var(--left-panel-width, clamp(16rem, 20vw, 19rem));
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
    display: flex;
    flex-direction: column;
    border-right: 1px solid var(--input-border);
    /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è collapse/expand —Å–∞–π–¥–±–∞—Ä–∞ (UI_UX_Design_Spec) */
    transition: width var(--sidebar-transition, 280ms) ease,
                min-width var(--sidebar-transition, 280ms) ease,
                opacity var(--sidebar-transition, 280ms) ease;
    position: relative;
    min-width: 0;
    overflow: hidden;
}

/* === –°–≤—ë—Ä–Ω—É—Ç—ã–π —Å–∞–π–¥–±–∞—Ä ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä—ã—Ç–æ, –ø–∞–Ω–µ–ª—å —É–±—Ä–∞–Ω–∞ === */
.chats-sidebar.sidebar-collapsed {
    width: 0;
    min-width: 0;
    opacity: 0;
    border-right-width: 0;
}

/* === –ö–Ω–æ–ø–∫–∞ collapse/expand —Å–∞–π–¥–±–∞—Ä–∞ === */
.sidebar-collapse-btn {
    position: absolute;
    top: 50%;
    right: -14px;
    transform: translateY(-50%);
    z-index: 10;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 1px solid var(--input-border);
    background: var(--sidebar-bg);
    color: var(--icon-color);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    transition: background 180ms ease, transform 180ms ease, opacity 180ms ease;
    opacity: 0.6;
    box-shadow: var(--shadow-depth-1, 0 1px 3px rgba(0,0,0,0.08));
}

.sidebar-collapse-btn:hover {
    opacity: 1;
    background: var(--hover-bg);
    transform: translateY(-50%) scale(1.1);
}

/* –ö–æ–≥–¥–∞ —Å–∞–π–¥–±–∞—Ä —Å–≤—ë—Ä–Ω—É—Ç ‚Äî –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º–æ–π */
.sidebar-collapsed .sidebar-collapse-btn {
    position: fixed;
    left: 4px;
    top: 50%;
    right: auto;
    opacity: 0.8;
    z-index: 20;
}

.chats-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.chats-header h2 {
    margin: 0;
    font-size: 1.2rem;
    font-weight: 500;
}

.new-chat-btn {
    background: transparent;
    border: 1px solid var(--sidebar-text);
    color: var(--sidebar-text);
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    max-width: 28px;
    max-height: 28px;
    border-radius: 50%;
    font-size: 1.1rem;
    line-height: 1;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-sizing: border-box;
    transition: 0.2s;
}

.new-chat-btn:hover {
    background-color: var(--sidebar-hover);
    border-color: transparent;
}

.chats-list {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
}

.chat-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s;
    margin-bottom: 4px;
    position: relative;
}

.chat-item:hover {
    background-color: var(--sidebar-hover);
}

.chat-item.active {
    background-color: var(--sidebar-hover);
}

.chat-avatar {
    width: 40px;
    height: 40px;
    background-color: var(--button-hover-bg);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: var(--text-color);
    flex-shrink: 0;
}

.chat-info {
    flex: 1;
    overflow: hidden;
}

.chat-name {
    font-weight: 500;
    margin-bottom: 4px;
    color: var(--sidebar-text);
}

.chat-preview {
    font-size: 0.85rem;
    color: rgba(255,255,255,0.6);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.chat-menu-btn {
    background: transparent;
    border: none;
    color: var(--icon-color);
    font-size: 1.2rem;
    padding: 4px;
    cursor: pointer;
    border-radius: 4px;
    opacity: 0.7;
    transition: opacity 0.2s;
    flex-shrink: 0;
    margin-left: auto;
}

.chat-item:hover .chat-menu-btn {
    opacity: 1;
}

.chat-menu-btn:hover {
    background-color: var(--sidebar-hover);
    color: var(--button-hover-color);
}

/* –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —á–∞—Ç–∞ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É ‚Äò‚ãØ‚Äô).
   –î–µ–π—Å—Ç–≤–∏—è: –∑–∞–∫—Ä–µ–ø–∏—Ç—å, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å. */
.chat-menu {
    position: absolute;
    top: 100%;
    right: 10px;
    background-color: var(--menu-bg);
    border: 1px solid var(--menu-border);
    border-radius: 6px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    z-index: 1000;
    min-width: 150px;
    display: block;
}

.chat-menu-item {
    padding: 10px 15px;
    cursor: pointer;
    color: var(--text-color);
    transition: background-color 0.2s;
    white-space: nowrap;
}

.chat-menu-item:hover {
    background-color: var(--menu-hover);
}

.chat-menu-item.delete {
    color: #ff6b6b;
}

.chat-menu-item.pin {
    color: var(--text-color);
}

/* ==========================================================================
   –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞.
   –°–æ–¥–µ—Ä–∂–∏—Ç: –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–∞–≤–∞—Ç–∞—Ä–∫–∏ + –∫–Ω–æ–ø–∫–∏ –ú–æ–¥–µ–ª–∏/RAG),
   –ø–∞–Ω–µ–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–≥–µ–Ω—Ç–æ–≤, –æ–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–ª–µ –≤–≤–æ–¥–∞.
   ========================================================================== */
.chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    background-color: var(--chat-bg);
}

.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    border-bottom: 1px solid var(--input-border);
    background-color: var(--chat-bg);
    gap: 10px;
}

/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –º–∏–Ω–∏-–∞–≤–∞—Ç–∞—Ä–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞.
   –ê–∫—Ç–∏–≤–Ω—ã–π –∞–≥–µ–Ω—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω–µ–π —Ä–∞–º–∫–æ–π.
   –ì–æ–≤–æ—Ä—è—â–∏–π –∞–≥–µ–Ω—Ç –ø—É–ª—å—Å–∏—Ä—É–µ—Ç (–∞–Ω–∏–º–∞—Ü–∏—è pulse). */
.agent-avatars {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
    margin-right: auto;
}

.agent-avatar-mini {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: var(--assistant-avatar-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.2s, opacity 0.2s;
    opacity: 0.7;
}

.agent-avatar-mini.active {
    border-color: var(--input-focus-border);
    opacity: 1;
}

.agent-avatar-mini img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.agent-avatar-mini:hover {
    opacity: 1;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞ –≥–æ–≤–æ—Ä—è—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞.
   –°–∏–Ω–∏–π box-shadow —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞–µ—Ç –≤ —Ü–∏–∫–ª–µ 1—Å. */
.agent-avatar-mini.speaking {
    animation: pulse 1s infinite;
    border-color: var(--input-focus-border);
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 var(--input-focus-border);
        opacity: 1;
    }
    70% {
        box-shadow: 0 0 0 6px rgba(59, 130, 246, 0);
        opacity: 0.8;
    }
    100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
        opacity: 1;
    }
}

/* –ö–Ω–æ–ø–∫–∏-—Ç—Ä–∏–≥–≥–µ—Ä—ã ¬´–ú–æ–¥–µ–ª–∏¬ª –∏ ¬´RAG¬ª –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞.
   –ü—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (.open) –æ–∫—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –≤ —Å–∏–Ω–∏–π —Ü–≤–µ—Ç. */
.agents-toggle {
    background-color: var(--button-bg);
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    font-size: 0.9rem;
    padding: 6px 12px;
    border-radius: 20px;
    cursor: pointer;
    transition: 0.2s;
    white-space: nowrap;
}

.agents-toggle:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

.agents-toggle.open {
    background-color: var(--input-focus-border);
    color: #ffffff;
    border-color: var(--input-focus-border);
}

#rag-btn {
    /* –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ –∂–µ —Å—Ç–∏–ª–∏, —á—Ç–æ –∏ .agents-toggle */
}

/* ==========================================================================
   RAG-–ø–∞–Ω–µ–ª—å ‚Äî –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (memory-service).
   –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ ¬´RAG¬ª.
   –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å RAG-—Ä–µ–∂–∏–º–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
   ========================================================================== */
.rag-panel {
    padding: 10px 20px;
    background-color: var(--chat-bg);
    border-bottom: 1px solid var(--input-border);
}

.rag-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.rag-panel-header h4 {
    margin: 0;
    font-size: 0.9rem;
    color: var(--text-color);
}

.rag-toggle-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    color: var(--text-color);
    cursor: pointer;
}

.rag-description {
    font-size: 0.8rem;
    color: var(--icon-color);
    margin: 0;
    line-height: 1.4;
}

.rag-state-banner {
    margin-top: 0.6rem;
    margin-bottom: 0.7rem;
    padding: 0.5rem 0.65rem;
    border-radius: 0.6rem;
    border: 1px solid var(--input-border);
    font-size: 0.78rem;
    line-height: 1.3;
    background: color-mix(in srgb, var(--chat-bg) 84%, var(--input-focus-border) 16%);
    color: var(--text-color);
}

.rag-state-empty {
    border-color: var(--input-border);
}

.rag-state-processing {
    border-color: #6aa7ff;
}

.rag-state-ready {
    border-color: #4caf50;
}

.rag-state-error {
    border-color: #ef5350;
}

.rag-state-outdated {
    border-color: #ffb74d;
}

.rag-state-conflict {
    border-color: #ab47bc;
}

/* ==========================================================================
   –ó–Ω–∞—á–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö —á–∞—Ç–∞.
   –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ pill-–±–µ–π–¥–∂–∏ —Å –∏–∫–æ–Ω–∫–æ–π üìé –∏ –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞.
   –§–∞–π–ª—ã –ù–ï —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ —á–∞—Ç–µ ‚Äî –∞–≥–µ–Ω—Ç —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–µ—Ä–µ–∑ API.
   ========================================================================== */
.message-files {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 4px;
}

.message-file-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background-color: var(--file-bg);
    border: 1px solid var(--file-border);
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 0.8rem;
    color: var(--text-color);
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s;
}

.message-file-badge:hover {
    background-color: var(--file-hover);
    border-color: var(--input-focus-border);
}

.message-model-label {
    font-size: 0.7rem;
    color: var(--icon-color);
    margin-top: 4px;
    opacity: 0.7;
    text-align: right;
}

.message-timestamp {
    font-size: 0.65rem;
    color: var(--icon-color);
    margin-top: 4px;
    opacity: 0.5;
    text-align: right;
}

.message-sources {
    margin-top: 8px;
    padding: 8px;
    background: var(--bg-secondary);
    border-radius: 4px;
    font-size: 0.75rem;
}

.sources-title {
    font-weight: 600;
    margin-bottom: 4px;
    color: var(--text-secondary);
}

.source-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 2px 0;
}

.source-rank {
    color: var(--accent-color);
    font-weight: 600;
    min-width: 20px;
}

.source-title {
    color: var(--text-primary);
}

/* ==========================================================================
   –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è –ø–∞–Ω–µ–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–≥–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∞ ¬´–ú–æ–¥–µ–ª–∏¬ª).
   –°–æ–¥–µ—Ä–∂–∏—Ç: –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –õ–æ–∫–∞–ª—å–Ω–∞—è/–û–±–ª–∞—á–Ω–∞—è,
   –∫–∞—Ä—Ç–æ—á–∫—É –∞–≥–µ–Ω—Ç–∞ (admin) –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ,
   —Å–µ–∫—Ü–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
   ========================================================================== */
.agent-panel {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 10px 20px;
    background-color: var(--chat-bg);
    border-bottom: 1px solid var(--input-border);
}

/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–∞ –º–æ–¥–µ–ª–µ–π: ¬´–õ–æ–∫–∞–ª—å–Ω–∞—è¬ª (Ollama) / ¬´–û–±–ª–∞—á–Ω–∞—è¬ª (OpenAI, Anthropic –∏ –¥—Ä.).
   Pill-—Å—Ç–∏–ª—å —Å —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏ (border-radius: 20px). */
.model-mode-toggle {
    display: flex;
    gap: 0;
    margin-bottom: 4px;
    border: 1px solid var(--input-border);
    border-radius: 20px;
    overflow: hidden;
    width: fit-content;
}

.model-mode-btn {
    background: transparent;
    border: none;
    color: var(--icon-color);
    padding: 6px 16px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: 0.2s;
}

.model-mode-btn.active {
    background-color: var(--input-focus-border);
    color: #ffffff;
}

.model-mode-btn:hover:not(.active) {
    background-color: var(--button-hover-bg);
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–≥–µ–Ω—Ç–∞ –≤ –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ–ª–µ–π.
   CSS Grid —Å 6 –∫–æ–ª–æ–Ω–∫–∞–º–∏: –∞–≤–∞—Ç–∞—Ä | –∏–º—è | —Å–µ–ª–µ–∫—Ç –º–æ–¥–µ–ª–∏ | –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –ø—Ä–æ–º–ø—Ç | –∫–Ω–æ–ø–∫–∞.
   –ê–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω–µ–π —Ä–∞–º–∫–æ–π. */
.agent-card {
    display: grid;
    grid-template-columns: 30px auto 1fr 16px auto 30px;
    align-items: center;
    gap: 2px;
    padding: 4px 6px;
    border: 1px solid var(--input-border);
    border-radius: 20px;
    background-color: var(--input-bg);
    cursor: pointer;
    transition: background-color 0.2s;
    width: 100%;
    max-width: 600px;
}

.agent-card.active {
    background-color: var(--sidebar-hover);
    border-color: var(--input-focus-border);
}

.agent-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: var(--assistant-avatar-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    cursor: pointer;
    grid-column: 1;
}

.agent-avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.agent-name {
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap;
    grid-column: 2;
    margin-right: 4px;
}

.agent-model-select {
    background-color: var(--input-bg, #2a2a2a);
    color: var(--text-color);
    border: 1px solid var(--input-border);
    border-radius: 12px;
    padding: 2px 4px;
    font-size: 0.75rem;
    outline: none;
    cursor: pointer;
    -moz-appearance: none;
    -webkit-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23a0a0a0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
    background-repeat: no-repeat;
    background-position: right 4px center;
    background-size: 10px;
    padding-right: 18px;
    white-space: nowrap;
    box-sizing: border-box;
    width: 100%;
    min-width: 0;
    grid-column: 3;
}

.agent-model-select option {
    background-color: #1a1a1a;
    color: #e5e5e5;
    padding: 4px 8px;
}

@media (prefers-color-scheme: light) {
    .agent-model-select option {
        background-color: #ffffff;
        color: #1a1a1a;
    }
}

.tool-warning {
    font-size: 0.9rem;
    cursor: pointer;
    text-align: center;
    grid-column: 4;
    width: 16px;
}

.role-recommendation {
    grid-column: 1 / -1;
    font-size: 0.75rem;
    padding: 2px 6px;
    border-radius: 4px;
    margin-top: 2px;
    line-height: 1.3;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.role-recommendation.suitable {
    color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
}

.role-recommendation.unsuitable {
    color: #ff9800;
    background: rgba(255, 152, 0, 0.1);
}

.agent-prompt-container {
    display: flex;
    align-items: center;
    gap: 2px;
    grid-column: 5 / span 2;
}

.agent-prompt-label {
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap;
    font-size: 0.9rem;
}

.icon-btn.small {
    width: 24px;
    height: 24px;
    font-size: 1rem;
    background: var(--button-bg);
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    cursor: pointer;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
    margin: 0;
    padding: 0;
}

.icon-btn.small:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

/* ==========================================================================
   –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞.
   –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–∞—è –æ–±–ª–∞—Å—Ç—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π 900px.
   –°–æ–æ–±—â–µ–Ω–∏—è: user (—Å–ø—Ä–∞–≤–∞), assistant (—Å–ª–µ–≤–∞, —Å –∞–≤–∞—Ç–∞—Ä–æ–º), system (–ø–æ —Ü–µ–Ω—Ç—Ä—É).
   –û—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —É–º–µ–Ω—å—à–µ–Ω—ã –¥–æ 4px –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏.
   ========================================================================== */
.chat-messages {
    flex: 1 1 auto;
    overflow-y: auto;
    padding: 20px;
    max-width: 900px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 4px; /* —É–º–µ–Ω—å—à–µ–Ω–æ —Å 8px */
    min-height: 0;
}

.message {
    display: flex;
    max-width: 100%;
    line-height: 1.6;
    font-size: 1rem;
    color: var(--text-color);
}

.message.user {
    justify-content: flex-end;
}

.message.assistant {
    justify-content: flex-start;
}

.message.system {
    justify-content: center;
    font-style: italic;
    opacity: 0.8;
}

.message-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background-color: var(--assistant-avatar-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    margin-right: 12px;
    flex-shrink: 0;
}

.message-avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.message.user .message-avatar {
    display: none;
}

.message-content {
    max-width: 70%;
    padding: 6px 12px;
    border-radius: 18px;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: 1.4;
}

.message.user .message-content {
    background-color: var(--user-msg-bg);
    border-bottom-right-radius: 4px;
    padding: 4px 12px;
}

.message.assistant .message-content {
    background-color: transparent;
    border-bottom-left-radius: 4px;
    padding: 4px 0;
}

.message.system .message-content {
    background-color: transparent;
    text-align: center;
}

/* –û—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (–∞–±–∑–∞—Ü—ã, —Å–ø–∏—Å–∫–∏).
   –£–º–µ–Ω—å—à–µ–Ω—ã –≤ 2 —Ä–∞–∑–∞ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. */
.message-content p {
    margin: 0 0 0.15em 0;
}

.message-content p:last-child {
    margin-bottom: 0;
}

.message-content p + p {
    margin-top: 0.15em;
}

.message-content ul, .message-content ol {
    margin: 0.15em 0;
    padding-left: 1.5em;
}

.message-content li {
    margin: 0;
    padding: 0;
}

.message-content li > p {
    margin: 0;
}

.message-content li > p + p {
    margin-top: 0.1em;
}

.message-content h1, .message-content h2, .message-content h3,
.message-content h4, .message-content h5, .message-content h6 {
    margin: 0.3em 0 0.15em 0;
    line-height: 1.3;
}

.message-content h1:first-child, .message-content h2:first-child,
.message-content h3:first-child, .message-content h4:first-child {
    margin-top: 0;
}

.message-content blockquote {
    margin: 0.2em 0;
    padding: 0.1em 0.5em;
    border-left: 3px solid var(--input-border);
}

.message-content hr {
    margin: 0.3em 0;
}

/* Inline-–∫–æ–¥ (–∫–æ–º–∞–Ω–¥—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–µ).
   –í—ã–¥–µ–ª—è–µ—Ç—Å—è —Ñ–æ–Ω–æ–º –∏ –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º.
   –ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∫–æ–¥—É –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤ .code-block. */
.message-content code:not(.code-block code) {
    background-color: var(--user-msg-bg);
    color: var(--text-color);
    padding: 2px 4px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
}

/* ==========================================================================
   –ë–ª–æ–∫–∏ –∫–æ–¥–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ (react-syntax-highlighter).
   –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –∑–∞–≥–æ–ª–æ–≤–æ–∫ (—è–∑—ã–∫ + –∫–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è) + —Ç–µ–ª–æ –∫–æ–¥–∞.
   –ó–∞–≥–æ–ª–æ–≤–æ–∫ sticky ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è –≤–∏–¥–∏–º—ã–º –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.
   ========================================================================== */
.code-block {
    margin: 0 !important;
    border: 1px solid var(--code-border);
    border-radius: 8px;
    background-color: transparent;
    display: flex;
    flex-direction: column;
}

.code-block-header {
    position: sticky;
    top: 0;
    z-index: 10;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 12px;
    background-color: var(--code-header-bg);
    backdrop-filter: blur(2px);
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    font-size: 0.8rem;
    font-family: 'Courier New', monospace;
}

.copy-code-btn {
    background: transparent;
    border: none;
    color: inherit;
    font-size: 1.2rem;
    padding: 2px 6px;
    cursor: pointer;
    border-radius: 4px;
}

.copy-code-btn:hover {
    background: rgba(255,255,255,0.2);
}

.code-content {
    padding: 0 8px 12px 8px !important;
    overflow-x: auto;
    font-size: 0.9rem;
    background-color: var(--input-bg);
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
    padding-top: 0 !important;
    margin: 0 !important;
}

.code-content pre {
    margin: 0 !important;
    padding: 0 !important;
    background: transparent;
    color: inherit;
    font-family: inherit;
    font-size: inherit;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.code-content code {
    background: transparent;
    color: inherit;
    padding: 0 !important;
    margin: 0 !important;
}

.pin-icon {
    margin-right: 4px;
    font-size: 0.85rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 4px;
    background: rgba(59, 130, 246, 0.15);
    vertical-align: middle;
    line-height: 1;
}

/* ==========================================================================
   –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
   –û–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–π –∏–Ω–ø—É—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏: –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª (üìé),
   –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ (üéôÔ∏è), –æ—Ç–ø—Ä–∞–≤–∫–∞ (‚Üí).
   –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ —Ä–∞–º–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω–∏–º.
   ========================================================================== */
.chat-input-container {
    flex-shrink: 0;
    padding: 20px;
    border-top: 1px solid var(--input-border);
    background-color: var(--chat-bg);
}

.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    max-width: 900px;
    margin: 0 auto;
    background-color: var(--input-bg);
    border: 1px solid var(--input-border);
    border-radius: 30px;
    transition: border-color 0.2s;
}

.input-wrapper:focus-within {
    border-color: var(--input-focus-border);
}

.input-profile-row {
    display: flex;
    align-items: center;
    padding-left: 14px;
}

.inference-profile-badge {
    font-size: 0.72rem;
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid var(--input-border);
    color: var(--text-color);
    background: var(--button-bg);
    white-space: nowrap;
}

.inference-profile-economy {
    border-color: #5d944b;
}

.inference-profile-standard {
    border-color: var(--accent-color);
}

.inference-profile-deep {
    border-color: #9c4dcc;
}

#user-input {
    flex: 1;
    padding: 14px 20px;
    border: none;
    background: transparent;
    color: var(--text-color);
    font-size: 1rem;
    resize: vertical;
    outline: none;
    line-height: 1.5;
    max-height: 200px;
    overflow-y: auto;
}

.input-buttons {
    display: flex;
    gap: 4px;
    padding-right: 8px;
    align-items: center;
}

.provider-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 8px;
    padding: 4px 0;
}

.provider-chip {
    padding: 4px 10px;
    border-radius: 12px;
    border: 1px solid var(--input-border);
    background: var(--button-bg);
    color: var(--text-color);
    font-size: 0.75rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
    transition: all 0.2s;
    white-space: nowrap;
}

.provider-chip:hover {
    border-color: var(--accent-color);
}

.provider-chip.active {
    background: var(--accent-color);
    color: #fff;
    border-color: var(--accent-color);
}

.provider-chip.refresh {
    font-size: 0.9rem;
    padding: 4px 8px;
}

.provider-chip-count {
    background: rgba(255,255,255,0.2);
    padding: 0 5px;
    border-radius: 8px;
    font-size: 0.7rem;
}

.provider-chip.active .provider-chip-count {
    background: rgba(255,255,255,0.3);
}

.provider-chip-nokey {
    color: #ff9800;
    font-weight: bold;
    font-size: 0.7rem;
}

.rag-file-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--input-border);
    border-radius: 8px;
    padding: 4px;
}

.rag-folder-group {
    border: 1px solid var(--input-border);
    border-radius: 6px;
    overflow: hidden;
}

.rag-folder-header {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    background: var(--panel-header-bg, #333);
    font-weight: 500;
}

.rag-folder-icon {
    font-size: 1rem;
}

.rag-folder-name {
    flex: 1;
    font-size: 0.85rem;
    color: var(--text-color);
}

.rag-folder-count {
    font-size: 0.75rem;
    color: var(--icon-color);
}

.rag-folder-delete {
    background: none;
    border: none;
    color: #ff6b6b;
    cursor: pointer;
    font-size: 0.9rem;
    padding: 2px 6px;
    opacity: 0.7;
}

.rag-folder-delete:hover {
    opacity: 1;
}

.rag-folder-files {
    padding: 4px 8px;
    background: var(--settings-bg);
}

.rag-more-files {
    font-size: 0.75rem;
    color: var(--icon-color);
    font-style: italic;
    padding: 2px 0;
}

.rag-file-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.8rem;
    background: var(--button-bg);
}

.rag-file-item:hover {
    background: var(--input-bg);
}

.rag-file-icon {
    font-size: 0.9rem;
    flex-shrink: 0;
}

.rag-file-name {
    flex: 1;
    color: var(--text-color);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.rag-file-chunks {
    font-size: 0.7rem;
    color: var(--icon-color);
    white-space: nowrap;
}

.rag-file-delete {
    background: none;
    border: none;
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.75rem;
    padding: 2px 4px;
    border-radius: 4px;
    opacity: 0.5;
    flex-shrink: 0;
}

.rag-file-delete:hover {
    opacity: 1;
    color: #ff6b6b;
    background: rgba(255, 107, 107, 0.1);
}

/* === RAG: —á–µ–∫–±–æ–∫—Å multi-select === */
.rag-file-checkbox {
    width: 14px;
    height: 14px;
    cursor: pointer;
    flex-shrink: 0;
    accent-color: var(--accent, #7c5cfc);
}

/* === RAG: –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª === */
.rag-file-selected {
    background: rgba(124, 92, 252, 0.12) !important;
    border-left: 2px solid var(--accent, #7c5cfc);
}

/* === RAG: –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è === */
.rag-file-rename {
    background: none;
    border: none;
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.78rem;
    padding: 2px 4px;
    border-radius: 4px;
    opacity: 0.4;
    flex-shrink: 0;
    transition: opacity 0.15s ease;
}

.rag-file-rename:hover {
    opacity: 1;
    color: var(--accent, #7c5cfc);
    background: rgba(124, 92, 252, 0.1);
}

/* === RAG: inline rename input === */
.rag-rename-input {
    flex: 1;
    padding: 1px 4px;
    border-radius: 4px;
    border: 1px solid var(--accent, #7c5cfc);
    background: var(--input-bg);
    color: var(--text-color);
    font-size: 0.78rem;
    outline: none;
}

.rag-rename-input:focus {
    box-shadow: 0 0 0 2px rgba(124, 92, 252, 0.25);
}

/* === RAG: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ === */
.rag-embedding-status {
    font-size: 0.75rem;
    color: var(--icon-color);
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 0;
}

/* === RAG: –∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª (highlight –ø—Ä–∏ –∫–ª–∏–∫–µ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞) === */
.rag-file-active {
    background: rgba(76, 175, 80, 0.1) !important;
    border-left: 2px solid #4caf50;
}

/* === RAG: –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π —Ñ–∞–π–ª (pinned) ‚Äî –º—è–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ === */
.rag-file-pinned {
    border-right: 2px solid #ff9800;
}

/* === RAG: –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è/–æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏—è (pin/unpin) === */
.rag-file-pin {
    background: none;
    border: none;
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.78rem;
    padding: 2px 3px;
    border-radius: 4px;
    opacity: 0.4;
    flex-shrink: 0;
    transition: opacity 0.15s ease, color 0.15s ease;
}

.rag-file-pin:hover {
    opacity: 1;
    color: #ff9800;
}

.rag-file-pinned .rag-file-pin {
    opacity: 1;
    color: #ff9800;
}

/* === RAG: –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –º–µ–∂–¥—É –ø–∞–ø–∫–∞–º–∏ === */
.rag-file-move {
    background: none;
    border: none;
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.78rem;
    padding: 2px 3px;
    border-radius: 4px;
    opacity: 0.4;
    flex-shrink: 0;
    transition: opacity 0.15s ease;
}

.rag-file-move:hover {
    opacity: 1;
    color: var(--accent, #7c5cfc);
    background: rgba(124, 92, 252, 0.1);
}

/* === RAG: dropdown –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è === */
.rag-move-dropdown {
    animation: ragDropdownFadeIn 0.15s ease;
}

.rag-move-option:hover {
    background: rgba(124, 92, 252, 0.12) !important;
}

@keyframes ragDropdownFadeIn {
    from { opacity: 0; transform: translateY(-4px); }
    to { opacity: 1; transform: translateY(0); }
}

/* === RAG: —ç–ª–µ–º–µ–Ω—Ç —Ñ–∞–π–ª–∞ ‚Äî relative –¥–ª—è dropdown === */
.rag-file-item {
    position: relative;
}

/* === RAG: —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É === */
.rag-content-result:hover {
    background: rgba(124, 92, 252, 0.06);
}

.rag-content-result:last-child {
    border-bottom: none !important;
}

.system-panel {
    width: 0;
    min-width: 0;
    overflow: hidden;
    opacity: 0;
    border-left: 0 solid var(--input-border);
    transition: width var(--system-panel-transition, 280ms) ease, opacity var(--system-panel-transition, 280ms) ease, border-left-width var(--system-panel-transition, 280ms) ease;
}

.system-panel.open {
    width: var(--system-panel-width, clamp(20rem, 28vw, 28rem));
    opacity: 1;
    border-left-width: 1px;
}

.system-panel-logs {
    background: var(--sidebar-bg);
    font-size: 0.85rem;
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.system-panel-settings {
    background: var(--sidebar-bg);
    display: flex;
    flex-direction: column;
    min-height: 0;
}

/* ==========================================================================
   Inline-–ø–∞–Ω–µ–ª—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–∞–π–ª–∞ (–∑–∞–º–µ–Ω—è–µ—Ç overlay modal).
   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ pattern slide-–∞–Ω–∏–º–∞—Ü–∏–∏, —á—Ç–æ –õ–æ–≥–∏/–ù–∞—Å—Ç—Ä–æ–π–∫–∏.
   –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è UI_UX_Design_Spec: –∑–∞–ø—Ä–µ—Ç overlay-–º–æ–¥–∞–ª–æ–∫.
   ========================================================================== */
.system-panel-file-viewer {
    background: var(--sidebar-bg);
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.file-viewer-content {
    flex: 1;
    overflow: auto;
    padding: 0.75rem;
    min-height: 0;
}

.file-viewer-pre {
    margin: 0;
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--text-color);
    font-size: 0.85rem;
    font-family: 'Courier New', monospace;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: 1.5;
}

.file-viewer-empty {
    padding: 2rem 1rem;
    text-align: center;
    color: var(--icon-color);
    font-size: 0.85rem;
    font-style: italic;
}

.settings-panel-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    padding: 0.9rem;
}

.settings-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid var(--input-border);
    border-radius: 0.6rem;
    padding: 0.6rem 0.7rem;
    color: var(--text-color);
    font-size: 0.85rem;
}

.settings-item-column {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.4rem;
}

.settings-select {
    width: 100%;
    padding: 6px 8px;
    border-radius: 0.45rem;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--text-color);
    font-size: 0.82rem;
}

.settings-hint {
    color: var(--icon-color);
    font-size: 0.75rem;
}

.logs-slide-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid var(--input-border);
    color: var(--text-color);
}

.logs-close-btn {
    background: none;
    border: none;
    color: var(--icon-color);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 0 4px;
    line-height: 1;
}

.logs-close-btn:hover {
    color: var(--text-color);
}

.logs-toolbar {
    display: flex;
    gap: 8px;
    align-items: center;
    padding: 8px 16px;
    border-bottom: 1px solid var(--input-border);
    flex-wrap: wrap;
}

.logs-toolbar select {
    padding: 4px 8px;
    border-radius: 6px;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--text-color);
    font-size: 0.8rem;
    cursor: pointer;
}

.logs-refresh-btn {
    background: var(--button-bg);
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    cursor: pointer;
    border-radius: 6px;
    padding: 4px 10px;
    font-size: 0.9rem;
}

.logs-refresh-btn:hover {
    background: var(--input-bg);
}

.logs-count {
    font-size: 0.75rem;
    color: var(--icon-color);
    margin-left: auto;
}

.logs-list {
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 8px 16px;
}

.logs-empty {
    text-align: center;
    color: var(--icon-color);
    font-style: italic;
    padding: 16px 0;
    font-size: 0.8rem;
}

.log-entry {
    padding: 6px 10px;
    border-radius: 6px;
    background: var(--button-bg);
    border-left: 3px solid var(--input-border);
}

.log-entry.log-error {
    border-left-color: #ff6b6b;
}

.log-entry.log-warn {
    border-left-color: #ffa726;
}

.log-entry.log-info {
    border-left-color: #42a5f5;
}

.log-entry.log-resolved {
    opacity: 0.5;
}

.log-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 2px;
}

.log-level-badge {
    font-size: 0.65rem;
    font-weight: 700;
    padding: 1px 6px;
    border-radius: 4px;
    text-transform: uppercase;
}

.log-badge-error {
    background: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
}

.log-badge-warn {
    background: rgba(255, 167, 38, 0.2);
    color: #ffa726;
}

.log-badge-info {
    background: rgba(66, 165, 245, 0.2);
    color: #42a5f5;
}

.log-service {
    font-size: 0.7rem;
    color: var(--icon-color);
    font-weight: 500;
}

.log-time {
    font-size: 0.65rem;
    color: var(--icon-color);
    margin-left: auto;
}

.log-resolve-btn {
    background: none;
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.7rem;
    padding: 1px 6px;
    border-radius: 4px;
    line-height: 1;
}

.log-resolve-btn.resolved {
    color: #4caf50;
    border-color: #4caf50;
}

.log-resolve-btn:hover {
    background: var(--input-bg);
}

.log-message {
    font-size: 0.8rem;
    color: var(--text-color);
    line-height: 1.4;
}

.log-details {
    font-size: 0.72rem;
    color: var(--icon-color);
    margin-top: 2px;
    padding: 4px 8px;
    background: var(--input-bg);
    border-radius: 4px;
    white-space: pre-wrap;
    word-break: break-all;
    max-height: 80px;
    overflow-y: auto;
}

.input-buttons-vertical {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding-right: 6px;
    align-items: center;
}

.icon-btn {
    background: var(--button-bg);
    border: none;
    color: var(--icon-color);
    font-size: 1.2rem;
    padding: 8px;
    cursor: pointer;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
    flex-shrink: 0;
}

.input-side-btn {
    width: 32px;
    height: 32px;
    font-size: 1.1rem;
    padding: 0;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--icon-color);
    margin: 0 4px;
}

.input-side-btn:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
    border-color: var(--input-focus-border);
}

.icon-btn:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

#mic-btn {
    color: var(--icon-color);
}

#mic-btn.listening {
    background-color: #ff4444;
    color: white;
}

/* ==========================================================================
   –ü—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞).
   –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª ‚Äî pill-—Ç–µ–≥ —Å –∏–º–µ–Ω–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è (x).
   ========================================================================== */
.attached-files {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    padding: 8px 20px 0;
    max-width: 900px;
    margin: 0 auto;
}

.attached-file-tag {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background-color: var(--file-bg);
    border: 1px solid var(--file-border);
    border-radius: 16px;
    padding: 4px 10px;
    font-size: 0.85rem;
    color: var(--text-color);
}

.attached-file-tag:hover {
    background-color: var(--file-hover);
}

.remove-file-btn {
    background: transparent;
    border: none;
    color: #ff6b6b;
    font-size: 0.9rem;
    cursor: pointer;
    padding: 0 2px;
    line-height: 1;
}

/* ==========================================================================
   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω—ã—Ö LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
   –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ–ª–µ–π –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–µ–∂–∏–º–∞ ¬´–û–±–ª–∞—á–Ω–∞—è¬ª.
   –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –ø–æ–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
   (API Key, Folder ID, Scope, Base URL), –∫–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
   ========================================================================== */
.provider-config-section {
    margin-top: 8px;
    padding: 10px;
    border: 1px solid var(--input-border);
    border-radius: 8px;
    background-color: var(--input-bg);
    max-width: 600px;
}

.provider-config-section h4 {
    margin: 0 0 8px 0;
    font-size: 0.9rem;
    color: var(--text-color);
}

.provider-config-row {
    display: flex;
    gap: 8px;
    margin-bottom: 6px;
    align-items: center;
}

.provider-config-row label {
    font-size: 0.8rem;
    color: var(--icon-color);
    min-width: 80px;
}

.provider-config-row input,
.provider-config-row select {
    flex: 1;
    padding: 4px 8px;
    border: 1px solid var(--input-border);
    border-radius: 6px;
    background-color: var(--chat-bg);
    color: var(--text-color);
    font-size: 0.85rem;
    outline: none;
}

.provider-config-row input:focus {
    border-color: var(--input-focus-border);
}

.provider-save-btn {
    padding: 4px 12px;
    border: 1px solid var(--input-border);
    border-radius: 12px;
    background-color: var(--input-focus-border);
    color: #ffffff;
    cursor: pointer;
    font-size: 0.8rem;
    transition: 0.2s;
}

.provider-save-btn:hover {
    opacity: 0.8;
}

/* ==========================================================================
   –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ (Workspaces) –≤ —Å–∞–π–¥–±–∞—Ä–µ.
   –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤.
   –ö–∞–∂–¥–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ: –∏–∫–æ–Ω–∫–∞ + –∏–º—è + –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏).
   ¬´–û–±—â–µ–µ¬ª ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
   ========================================================================== */
.workspaces-section {
    padding: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.workspaces-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.workspaces-header h3 {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--sidebar-text);
}

.workspace-add-btn {
    background: transparent;
    border: 1px solid var(--sidebar-text);
    color: var(--sidebar-text);
    width: 22px;
    height: 22px;
    min-width: 22px;
    min-height: 22px;
    max-width: 22px;
    max-height: 22px;
    border-radius: 50%;
    font-size: 0.9rem;
    line-height: 1;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-sizing: border-box;
    transition: 0.2s;
}

.workspace-add-btn:hover {
    background-color: var(--sidebar-hover);
}

.workspace-list {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.workspace-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 0.85rem;
    color: var(--sidebar-text);
}

.workspace-item:hover {
    background-color: var(--sidebar-hover);
}

.workspace-item.active {
    background-color: var(--sidebar-hover);
    font-weight: 500;
}

.workspace-item .ws-icon {
    font-size: 1rem;
}

.workspace-item .ws-name {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.workspace-item .ws-delete {
    background: transparent;
    border: none;
    color: #ff6b6b;
    cursor: pointer;
    font-size: 0.8rem;
    padding: 2px;
    opacity: 0;
    transition: opacity 0.2s;
}

.workspace-item:hover .ws-delete {
    opacity: 1;
}

/* ==========================================================================
   –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –º–µ–Ω—å—à–µ 768px.
   –£–º–µ–Ω—å—à–∞–µ—Ç—Å—è —Å–∞–π–¥–±–∞—Ä, —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –æ–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π.
   ========================================================================== */
@media (max-width: 768px) {
    .chats-sidebar {
        width: var(--left-panel-width-compact, 12.5rem);
    }
    .chat-messages {
        max-width: 100%;
        padding: 10px;
    }
    .message-content {
        max-width: 85%;
    }
    #rag-btn span:last-child {
        display: none;
    }
    .agent-card {
        grid-template-columns: 30px auto 1fr 16px auto 30px;
    }
}

.chat-messages {
    overflow-y: auto;
    flex: 1 1 auto;
    min-height: 0;
}

/* ==========================================================================
   –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –ø—Ä–æ–º–ø—Ç–∞.
   –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ (‚úê) –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∞–≥–µ–Ω—Ç–∞.
   –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑ prompts/{agent}/ —Å radio-–≤—ã–±–æ—Ä–æ–º.
   ========================================================================== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.modal {
    background-color: var(--chat-bg);
    border: 1px solid var(--input-border);
    border-radius: 8px;
    padding: 20px;
    min-width: 300px;
    max-width: 500px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.modal h3 {
    margin-top: 0;
    color: var(--text-color);
}

.modal-content {
    margin: 15px 0;
    max-height: 300px;
    overflow-y: auto;
}

.modal-content ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.modal-content li {
    padding: 8px;
    border-bottom: 1px solid var(--input-border);
}

.modal-content li label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    color: var(--text-color);
}

.modal-content li:hover {
    background-color: var(--sidebar-hover);
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
}

.modal-actions button {
    padding: 8px 16px;
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--button-bg);
    color: var(--text-color);
    cursor: pointer;
    transition: 0.2s;
}

.modal-actions button:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

.modal-actions button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.provider-guide-panel {
    margin-top: 6px;
    background: var(--sidebar-bg, #1a1a2e);
    border: 1px solid var(--input-border, #444);
    border-radius: 6px;
    overflow: hidden;
}

.guide-tabs {
    display: flex;
    border-bottom: 1px solid var(--input-border, #444);
}

.guide-tab {
    flex: 1;
    padding: 4px 6px;
    border: none;
    background: transparent;
    color: var(--text-muted, #888);
    font-size: 0.72rem;
    cursor: pointer;
    transition: 0.2s;
    white-space: nowrap;
}

.guide-tab:hover {
    background: rgba(255,255,255,0.05);
    color: var(--text-color, #eee);
}

.guide-tab.active {
    background: rgba(52,152,219,0.15);
    color: #3498db;
    border-bottom: 2px solid #3498db;
}

.guide-content {
    padding: 6px 8px;
    max-height: 180px;
    overflow-y: auto;
}

.guide-content pre {
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
    font-family: inherit;
    font-size: 0.78rem;
    line-height: 1.35;
    color: var(--text-color, #ddd);
}

/* ==========================================================================
   –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ LLM —Å —Ç–∞–π–º–µ—Ä–æ–º.
   ========================================================================== */
.loading-indicator {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px 16px !important;
    min-width: 200px;
}

.loading-dots {
    display: flex;
    gap: 6px;
    align-items: center;
}

.loading-dots span {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--button-hover-color, #fff);
    opacity: 0.4;
    animation: loadingPulse 1.4s infinite ease-in-out both;
}

.loading-dots span:nth-child(1) { animation-delay: -0.32s; }
.loading-dots span:nth-child(2) { animation-delay: -0.16s; }
.loading-dots span:nth-child(3) { animation-delay: 0s; }

@keyframes loadingPulse {
    0%, 80%, 100% { opacity: 0.2; transform: scale(0.8); }
    40% { opacity: 1; transform: scale(1.1); }
}

.loading-status {
    font-size: 0.85rem;
    color: var(--text-color, #ccc);
    font-weight: 500;
}

.loading-timer {
    font-size: 0.8rem;
    color: var(--button-color, #888);
    font-family: 'Courier New', monospace;
    letter-spacing: 0.5px;
}

.loading-hint {
    font-size: 0.75rem;
    color: var(--button-color, #888);
    opacity: 0.7;
    font-style: italic;
}

/* ==========================================================================
   Soft Depth ‚Äî 4 —É—Ä–æ–≤–Ω—è –≥–ª—É–±–∏–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ UI_UX_Design_Spec.
   –ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, subtle glow ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ –ø–ª–æ—Å–∫–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞.
   –£—Ä–æ–≤–Ω–∏: surface (L0), raised (L1), elevated (L2), floating (L3).
   ========================================================================== */
:root {
    /* Soft Depth —Ç–µ–Ω–∏ ‚Äî –æ—Ç –ª—ë–≥–∫–æ–≥–æ –¥–æ –ø–∞—Ä—è—â–µ–≥–æ */
    --shadow-surface: 0 1px 2px rgba(0, 0, 0, 0.12);
    --shadow-raised: 0 2px 8px rgba(0, 0, 0, 0.18), 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-elevated: 0 4px 16px rgba(0, 0, 0, 0.22), 0 2px 6px rgba(0, 0, 0, 0.12);
    --shadow-floating: 0 8px 32px rgba(0, 0, 0, 0.28), 0 4px 12px rgba(0, 0, 0, 0.15);
    /* –ú—è–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
    --glow-accent: 0 0 12px rgba(59, 130, 246, 0.15);
    --glow-success: 0 0 12px rgba(76, 175, 80, 0.15);
    --glow-error: 0 0 12px rgba(239, 83, 80, 0.15);
    /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã –¥–ª—è –≥–ª—É–±–∏–Ω—ã */
    --gradient-surface: linear-gradient(180deg, rgba(255,255,255,0.02) 0%, transparent 100%);
    --gradient-raised: linear-gradient(180deg, rgba(255,255,255,0.04) 0%, transparent 100%);
    --gradient-card: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, transparent 50%);
    /* –ü–µ—Ä–µ—Ö–æ–¥—ã ‚Äî –ø–ª–∞–≤–Ω–æ—Å—Ç—å –±–µ–∑ —Ä—ã–≤–∫–æ–≤ */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
}

@media (prefers-color-scheme: light) {
    :root {
        --shadow-surface: 0 1px 3px rgba(0, 0, 0, 0.06);
        --shadow-raised: 0 2px 8px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.04);
        --shadow-elevated: 0 4px 16px rgba(0, 0, 0, 0.1), 0 2px 6px rgba(0, 0, 0, 0.06);
        --shadow-floating: 0 8px 32px rgba(0, 0, 0, 0.14), 0 4px 12px rgba(0, 0, 0, 0.08);
        --glow-accent: 0 0 12px rgba(37, 99, 235, 0.12);
        --glow-success: 0 0 12px rgba(76, 175, 80, 0.12);
        --glow-error: 0 0 12px rgba(239, 83, 80, 0.12);
        --gradient-surface: linear-gradient(180deg, rgba(255,255,255,0.5) 0%, transparent 100%);
        --gradient-raised: linear-gradient(180deg, rgba(255,255,255,0.8) 0%, transparent 100%);
        --gradient-card: linear-gradient(135deg, rgba(255,255,255,0.6) 0%, transparent 50%);
    }
}

/* –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Soft Depth –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º */
.chats-sidebar {
    box-shadow: var(--shadow-raised);
}

.chat-header {
    box-shadow: var(--shadow-surface);
}

.chat-item {
    transition: background-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
}

.chat-item:hover {
    box-shadow: var(--shadow-surface);
    transform: translateX(2px);
}

.agent-card {
    box-shadow: var(--shadow-surface);
    background-image: var(--gradient-card);
    transition: background-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
}

.agent-card:hover {
    box-shadow: var(--shadow-raised);
    transform: translateY(-1px);
}

.agent-card.active {
    box-shadow: var(--shadow-raised), var(--glow-accent);
}

.input-wrapper {
    box-shadow: var(--shadow-raised);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.input-wrapper:focus-within {
    box-shadow: var(--shadow-elevated), var(--glow-accent);
}

.code-block {
    box-shadow: var(--shadow-surface);
}

.chat-menu {
    box-shadow: var(--shadow-floating);
}

.system-panel.open {
    box-shadow: var(--shadow-elevated);
}

.log-entry {
    box-shadow: var(--shadow-surface);
    transition: box-shadow var(--transition-fast), transform var(--transition-fast);
}

.log-entry:hover {
    box-shadow: var(--shadow-raised);
    transform: translateY(-1px);
}

.rag-folder-group {
    box-shadow: var(--shadow-surface);
    transition: box-shadow var(--transition-fast);
}

.rag-folder-group:hover {
    box-shadow: var(--shadow-raised);
}

.rag-file-item {
    transition: background var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
}

.rag-file-item:hover {
    box-shadow: var(--shadow-surface);
    transform: translateX(2px);
}

.workspace-item {
    transition: background-color var(--transition-fast), transform var(--transition-fast);
}

.workspace-item:hover {
    transform: translateX(2px);
}

.message.user .message-content {
    box-shadow: var(--shadow-surface);
}

.settings-item {
    box-shadow: var(--shadow-surface);
    transition: box-shadow var(--transition-fast);
}

.settings-item:hover {
    box-shadow: var(--shadow-raised);
}

/* ==========================================================================
   ModelPopover ‚Äî premium popover –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏.
   –ó–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π <select> –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π UI —Å –ø–æ–∏—Å–∫–æ–º –∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏.
   ========================================================================== */
.model-popover-container {
    position: relative;
    grid-column: 3;
    min-width: 0;
    width: 100%;
}

.model-popover-trigger {
    display: flex;
    align-items: center;
    gap: 4px;
    width: 100%;
    padding: 3px 8px;
    background: var(--input-bg);
    border: 1px solid var(--input-border);
    border-radius: 12px;
    color: var(--text-color);
    font-size: 0.75rem;
    cursor: pointer;
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    text-align: left;
    min-width: 0;
}

.model-popover-trigger:hover {
    border-color: var(--accent-color);
    box-shadow: var(--shadow-surface);
}

.model-popover-trigger.open {
    border-color: var(--accent-color);
    box-shadow: var(--shadow-raised), var(--glow-accent);
}

.model-popover-trigger-text {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.model-popover-chevron {
    flex-shrink: 0;
    font-size: 0.7rem;
    color: var(--icon-color);
    transition: transform var(--transition-fast);
}

.model-popover-chevron.open {
    transform: rotate(180deg);
}

.model-popover-dropdown {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    min-width: 280px;
    max-width: 400px;
    background: var(--input-bg);
    border: 1px solid var(--input-border);
    border-radius: 12px;
    box-shadow: var(--shadow-floating);
    z-index: 1500;
    overflow: hidden;
    animation: popoverFadeIn var(--transition-normal) forwards;
}

@keyframes popoverFadeIn {
    from {
        opacity: 0;
        transform: translateY(-4px) scale(0.98);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.model-popover-search-wrapper {
    padding: 8px;
    border-bottom: 1px solid var(--input-border);
}

.model-popover-search {
    width: 100%;
    padding: 6px 10px;
    background: var(--chat-bg);
    border: 1px solid var(--input-border);
    border-radius: 8px;
    color: var(--text-color);
    font-size: 0.8rem;
    outline: none;
    transition: border-color var(--transition-fast);
}

.model-popover-search:focus {
    border-color: var(--accent-color);
}

.model-popover-search::placeholder {
    color: var(--icon-color);
}

.model-popover-list {
    max-height: 240px;
    overflow-y: auto;
    padding: 4px;
}

.model-popover-item {
    display: flex;
    flex-direction: column;
    gap: 2px;
    width: 100%;
    padding: 8px 10px;
    margin: 2px 0;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 8px;
    color: var(--text-color);
    cursor: pointer;
    text-align: left;
    font-size: 0.8rem;
    transition: background var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
}

.model-popover-item:hover {
    background: var(--sidebar-hover);
    border-color: var(--input-border);
    box-shadow: var(--shadow-surface);
    transform: translateX(2px);
}

.model-popover-item.selected {
    background: color-mix(in srgb, var(--accent-color) 12%, var(--input-bg));
    border-color: var(--accent-color);
    box-shadow: var(--shadow-surface), var(--glow-accent);
}

.model-popover-item.unsuitable {
    opacity: 0.7;
}

.model-popover-item-main {
    display: flex;
    align-items: center;
    gap: 6px;
}

.model-popover-item-icon {
    flex-shrink: 0;
    width: 16px;
    text-align: center;
    font-size: 0.75rem;
}

.model-popover-item-name {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-weight: 500;
}

.model-popover-item-meta {
    display: flex;
    gap: 6px;
    padding-left: 22px;
    flex-wrap: wrap;
}

.model-popover-item-family,
.model-popover-item-size,
.model-popover-item-price {
    font-size: 0.7rem;
    color: var(--icon-color);
    padding: 1px 6px;
    background: var(--button-bg);
    border: 1px solid var(--input-border);
    border-radius: 6px;
}

.model-popover-item-tools {
    font-size: 0.7rem;
}

.model-popover-item-note {
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 22px;
    line-height: 1.3;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.model-popover-item-note.suitable {
    color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
}

.model-popover-item-note.unsuitable {
    color: #ff9800;
    background: rgba(255, 152, 0, 0.1);
}

.model-popover-empty {
    padding: 16px;
    text-align: center;
    color: var(--icon-color);
    font-size: 0.8rem;
    font-style: italic;
}

/* ==========================================================================
   PromptPanel ‚Äî inline-–ø–∞–Ω–µ–ª—å –ø—Ä–æ–º–ø—Ç–æ–≤ (–∑–∞–º–µ–Ω–∞ overlay –º–æ–¥–∞–ª–∫–∏).
   –†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π –∞–≥–µ–Ω—Ç–∞, –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—è –∫–æ–Ω—Ç–µ–Ω—Ç.
   ========================================================================== */
.prompt-panel {
    grid-column: 1 / -1;
    margin-top: 6px;
    padding: 10px;
    border: 1px solid var(--input-border);
    border-radius: 10px;
    background: var(--input-bg);
    background-image: var(--gradient-card);
    box-shadow: var(--shadow-raised);
    animation: promptSlideDown var(--transition-normal) forwards;
}

@keyframes promptSlideDown {
    from {
        opacity: 0;
        max-height: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        max-height: 500px;
        transform: translateY(0);
    }
}

.prompt-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.prompt-panel-title {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-color);
}

.prompt-panel-close {
    background: none;
    border: none;
    color: var(--icon-color);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 2px 6px;
    border-radius: 4px;
    transition: color var(--transition-fast), background var(--transition-fast);
}

.prompt-panel-close:hover {
    color: var(--text-color);
    background: var(--button-hover-bg);
}

.prompt-panel-files {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-bottom: 8px;
    max-height: 120px;
    overflow-y: auto;
}

.prompt-panel-file-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8rem;
    color: var(--text-color);
    transition: background var(--transition-fast);
}

.prompt-panel-file-item:hover {
    background: var(--sidebar-hover);
}

.prompt-panel-file-item.active {
    background: color-mix(in srgb, var(--accent-color) 10%, var(--input-bg));
}

.prompt-panel-file-item input[type="radio"] {
    accent-color: var(--accent-color);
}

.prompt-panel-file-name {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.prompt-panel-empty {
    padding: 12px;
    text-align: center;
    color: var(--icon-color);
    font-size: 0.8rem;
    font-style: italic;
}

.prompt-panel-editor {
    border-top: 1px solid var(--input-border);
    padding-top: 8px;
}

.prompt-panel-textarea {
    width: 100%;
    padding: 8px;
    background: var(--chat-bg);
    border: 1px solid var(--input-border);
    border-radius: 8px;
    color: var(--text-color);
    font-size: 0.8rem;
    font-family: inherit;
    resize: vertical;
    outline: none;
    min-height: 80px;
    transition: border-color var(--transition-fast);
}

.prompt-panel-textarea:focus {
    border-color: var(--accent-color);
}

.prompt-panel-preview {
    position: relative;
}

.prompt-panel-text {
    padding: 8px;
    background: var(--chat-bg);
    border: 1px solid var(--input-border);
    border-radius: 8px;
    font-size: 0.78rem;
    font-family: inherit;
    color: var(--text-color);
    white-space: pre-wrap;
    word-wrap: break-word;
    max-height: 120px;
    overflow-y: auto;
    margin: 0;
    line-height: 1.4;
}

.prompt-panel-actions {
    display: flex;
    gap: 8px;
    margin-top: 8px;
    justify-content: flex-end;
}

.prompt-panel-btn {
    padding: 5px 14px;
    border: 1px solid var(--input-border);
    border-radius: 8px;
    font-size: 0.78rem;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.prompt-panel-btn-save {
    background: var(--accent-color);
    color: #fff;
    border-color: var(--accent-color);
}

.prompt-panel-btn-save:hover {
    opacity: 0.85;
}

.prompt-panel-btn-save:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.prompt-panel-btn-cancel {
    background: var(--button-bg);
    color: var(--text-color);
}

.prompt-panel-btn-cancel:hover {
    background: var(--button-hover-bg);
}

.prompt-panel-btn-edit {
    background: var(--button-bg);
    color: var(--text-color);
    margin-top: 8px;
}

.prompt-panel-btn-edit:hover {
    background: var(--button-hover-bg);
    color: var(--button-hover-color);
}

.prompt-panel-status {
    margin-top: 6px;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.75rem;
}

.prompt-panel-status.success {
    color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
}

.prompt-panel-status.error {
    color: #ef5350;
    background: rgba(239, 83, 80, 0.1);
}

/* ==========================================================================
   RAG File Explorer ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ —Å drag&drop, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.
   ========================================================================== */
.rag-folder-header {
    cursor: pointer;
    transition: background var(--transition-fast);
    user-select: none;
}

.rag-folder-header:hover {
    background: var(--sidebar-hover);
}

/* –®–µ–≤—Ä–æ–Ω-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–≤—ë—Ä–Ω—É—Ç–æ—Å—Ç–∏ –ø–∞–ø–∫–∏ (‚ñ∏ / ‚ñæ) */
.rag-folder-chevron {
    font-size: 0.7rem;
    transition: transform var(--transition-fast);
    display: inline-block;
}

/* –û—Ç–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî —à–µ–≤—Ä–æ–Ω –ø–æ–≤—ë—Ä–Ω—É—Ç –≤–Ω–∏–∑ */
.rag-folder-chevron.open {
    transform: rotate(90deg);
}

/* –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º –∫–ª–∞—Å—Å–æ–º toggle */
.rag-folder-toggle {
    font-size: 0.7rem;
    transition: transform var(--transition-fast);
    display: inline-block;
}

.rag-folder-toggle.expanded {
    transform: rotate(90deg);
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ñ–∞–π–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è */
.rag-folder-files {
    overflow: hidden;
    animation: folderExpand var(--transition-normal) forwards;
}

/* –°–≤—ë—Ä–Ω—É—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî —Å–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª—ã —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
.rag-folder-files.collapsed {
    display: none;
}

@keyframes folderExpand {
    from {
        opacity: 0;
        max-height: 0;
    }
    to {
        opacity: 1;
        max-height: 1000px;
    }
}

/* Drag&Drop –∑–æ–Ω–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ */
.rag-dropzone {
    border: 2px dashed var(--input-border);
    border-radius: 10px;
    padding: 16px;
    text-align: center;
    color: var(--icon-color);
    font-size: 0.8rem;
    transition: border-color var(--transition-fast), background var(--transition-fast), box-shadow var(--transition-fast);
    cursor: pointer;
    margin-top: 8px;
}

.rag-dropzone:hover,
.rag-dropzone.drag-over {
    border-color: var(--accent-color);
    background: color-mix(in srgb, var(--accent-color) 5%, var(--input-bg));
    box-shadow: var(--glow-accent);
}

.rag-dropzone-icon {
    font-size: 1.5rem;
    margin-bottom: 4px;
}

.rag-dropzone-text {
    font-size: 0.78rem;
    color: var(--icon-color);
}

/* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞ –≤ RAG-–ø–∞–Ω–µ–ª–∏ */
.rag-file-meta {
    display: flex;
    gap: 6px;
    font-size: 0.65rem;
    color: var(--icon-color);
    padding-left: 22px;
    margin-top: 2px;
}

.rag-file-meta-tag {
    padding: 1px 4px;
    background: var(--button-bg);
    border: 1px solid var(--input-border);
    border-radius: 4px;
}

/* ==========================================================================
   UI State Indicators ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–∞–Ω–µ–ª–µ–π.
   ========================================================================== */
.ui-state-indicator {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 8px;
    font-size: 0.78rem;
    border: 1px solid var(--input-border);
}

.ui-state-indicator.state-empty {
    color: var(--icon-color);
    border-color: var(--input-border);
}

.ui-state-indicator.state-loading {
    color: var(--accent-color);
    border-color: var(--accent-color);
    background: color-mix(in srgb, var(--accent-color) 5%, transparent);
}

.ui-state-indicator.state-error {
    color: #ef5350;
    border-color: #ef5350;
    background: rgba(239, 83, 80, 0.05);
    box-shadow: var(--glow-error);
}

.ui-state-indicator.state-processing {
    color: #6aa7ff;
    border-color: #6aa7ff;
    background: rgba(106, 167, 255, 0.05);
}

.ui-state-indicator.state-outdated {
    color: #ffb74d;
    border-color: #ffb74d;
    background: rgba(255, 183, 77, 0.05);
}

.ui-state-indicator.state-conflict {
    color: #ab47bc;
    border-color: #ab47bc;
    background: rgba(171, 71, 188, 0.05);
}

.ui-state-indicator.state-ready {
    color: #4caf50;
    border-color: #4caf50;
    background: rgba(76, 175, 80, 0.05);
    box-shadow: var(--glow-success);
}

.ui-state-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
    flex-shrink: 0;
}

.ui-state-indicator.state-loading .ui-state-dot,
.ui-state-indicator.state-processing .ui-state-dot {
    animation: statePulse 1.2s infinite;
}

@keyframes statePulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.7); }
}

/* ==========================================================================
   Micro-–∞–Ω–∏–º–∞—Ü–∏–∏ (UI_UX_Design_Spec: hover scale, active glow, smooth transitions).
   –í—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –æ—Ç–∫–ª–∏–∫.
   ========================================================================== */

/* --- Hover scale –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫ --- */
.agents-toggle,
.provider-chip,
.model-mode-btn,
.new-chat-btn,
.logs-refresh-btn,
.rag-folder-delete,
.rag-file-delete {
    transition: transform 150ms ease, background 180ms ease, box-shadow 180ms ease, opacity 180ms ease;
}

.agents-toggle:hover,
.provider-chip:hover,
.model-mode-btn:hover,
.new-chat-btn:hover {
    transform: scale(1.03);
}

.agents-toggle:active,
.provider-chip:active,
.model-mode-btn:active,
.new-chat-btn:active {
    transform: scale(0.97);
}

/* --- Active glow –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ --- */
.agents-toggle.open,
.provider-chip.active,
.model-mode-btn.active {
    box-shadow: var(--glow-accent, 0 0 8px rgba(100, 108, 255, 0.3));
}

/* --- –ü–ª–∞–≤–Ω—ã–π hover –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —á–∞—Ç-—Å–ø–∏—Å–∫–∞ --- */
.chat-item {
    transition: background 180ms ease, transform 150ms ease;
}

.chat-item:hover {
    transform: translateX(2px);
}

/* --- –ü–ª–∞–≤–Ω—ã–π hover –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–≥–µ–Ω—Ç–æ–≤ --- */
.agent-card {
    transition: background 180ms ease, box-shadow 200ms ease, transform 150ms ease;
}

.agent-card:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-depth-2, 0 4px 12px rgba(0,0,0,0.12));
}

/* --- Micro-transition –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –±–µ–π–¥–∂–µ–π –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö --- */
.message-file-badge {
    transition: background 150ms ease, transform 150ms ease;
}

.message-file-badge:hover {
    transform: scale(1.05);
}

/* --- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è RAG —ç–ª–µ–º–µ–Ω—Ç–æ–≤ --- */
.rag-file-item {
    transition: background 150ms ease, transform 120ms ease;
}

.rag-file-item:hover {
    transform: translateX(2px);
}

.rag-folder-header {
    transition: background 150ms ease;
}

/* ==========================================================================
   –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ breakpoints (UI_UX_Design_Spec).
   –¢—Ä–∏ —É—Ä–æ–≤–Ω—è: desktop (>1024px), tablet (768-1024), mobile (<768px).
   ========================================================================== */

/* --- –ü–ª–∞–Ω—à–µ—Ç—ã: —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π layout, —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ --- */
@media (max-width: 1024px) {
    .chats-sidebar {
        width: clamp(12rem, 18vw, 16rem);
    }
    .system-panel.open {
        width: clamp(16rem, 24vw, 22rem);
    }
    .agent-card {
        font-size: 0.82rem;
    }
    .chat-main {
        padding: 0.5rem;
    }
}

/* --- –ú–æ–±–∏–ª—å–Ω—ã–µ: —Å–∞–π–¥–±–∞—Ä —Å–∫—Ä—ã—Ç, –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —á–∞—Ç --- */
@media (max-width: 480px) {
    .chats-sidebar {
        width: 0;
        min-width: 0;
        opacity: 0;
        border-right-width: 0;
        position: absolute;
        z-index: 30;
        height: 100%;
    }
    /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∞–π–¥–±–∞—Ä –ø–æ –∫–Ω–æ–ø–∫–µ (–Ω–µ collapsed) –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .chats-sidebar:not(.sidebar-collapsed) {
        width: 80vw;
        opacity: 1;
        border-right-width: 1px;
    }
    .system-panel.open {
        width: 100vw;
        position: absolute;
        right: 0;
        z-index: 25;
        height: 100%;
    }
    .chat-messages {
        padding: 0.5rem;
    }
    .message-content {
        max-width: 95%;
    }
    .input-section {
        padding: 0.5rem;
    }
}

/* ==========================================================================
   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ prefers-reduced-motion (accessibility).
   –û—Ç–∫–ª—é—á–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –û–°.
   ========================================================================== */
@media (prefers-reduced-motion: reduce) {
    .chats-sidebar,
    .system-panel,
    .sidebar-collapse-btn,
    .agents-toggle,
    .provider-chip,
    .model-mode-btn,
    .chat-item,
    .agent-card,
    .message-file-badge,
    .rag-file-item,
    .rag-folder-header {
        transition: none !important;
        animation: none !important;
    }
}
