/* ==========================================================================
   –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.
   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç 100% —ç–∫—Ä–∞–Ω–∞, –±–µ–∑ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ body.
   –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞.
   ========================================================================== */
html, body, #root {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

.container {
  height: 100%;
  width: 100%;
  display: flex;
}

/* ==========================================================================
   CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
   –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞.
   –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ @media (prefers-color-scheme: light).
   –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç: —Ñ–æ–Ω—ã, —Ç–µ–∫—Å—Ç, –≥—Ä–∞–Ω–∏—Ü—ã, –∫–Ω–æ–ø–∫–∏, –∫–æ–¥–æ–≤—ã–µ –±–ª–æ–∫–∏,
   —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞–≤–∞—Ç–∞—Ä—ã, –º–µ–Ω—é, —Ñ–∞–π–ª—ã, RAG-–∫–Ω–æ–ø–∫—É.
   ========================================================================== */
:root {
    --bg-color: #1a1a1a;
    --sidebar-bg: #2d2d2d;
    --sidebar-text: #e0e0e0;
    --sidebar-hover: #404040;
    --chat-bg: #1e1e1e;
    --text-color: #e5e5e5;
    --input-bg: #2d2d2d;
    --input-border: #404040;
    --input-focus-border: #3b82f6;
    --button-bg: transparent;
    --button-hover-bg: #404040;
    --button-color: #a0a0a0;
    --button-hover-color: #ffffff;
    --icon-color: #a0a0a0;
    --code-bg: transparent;
    --code-border: #3a3a3a;
    --code-header-bg: rgba(60, 60, 60, 0.9);
    --user-msg-bg: #2b2b2b;
    --assistant-avatar-bg: #404040;
    --menu-bg: #2d2d2d;
    --menu-border: #404040;
    --menu-hover: #404040;
    --file-bg: #2d2d2d;
    --file-border: #3a3a3a;
    --file-hover: #404040;
    --rag-btn-bg: #2d2d2d;
    --rag-btn-border: #404040;
    --rag-btn-hover-bg: #404040;
}

@media (prefers-color-scheme: light) {
    :root {
        --bg-color: #f9fafb;
        --sidebar-bg: #2c3e50;
        --sidebar-text: #ecf0f1;
        --sidebar-hover: #34495e;
        --chat-bg: #ffffff;
        --text-color: #1a1a1a;
        --input-bg: #ffffff;
        --input-border: #d1d5db;
        --input-focus-border: #3b82f6;
        --button-bg: transparent;
        --button-hover-bg: #f3f4f6;
        --button-color: #6b7280;
        --button-hover-color: #1f2937;
        --icon-color: #6b7280;
        --code-bg: transparent;
        --code-border: #ddd;
        --code-header-bg: rgba(220, 220, 220, 0.9);
        --user-msg-bg: #e9e9e9;
        --assistant-avatar-bg: #d0d0d0;
        --menu-bg: #f9fafb;
        --menu-border: #d1d5db;
        --menu-hover: #e5e7eb;
        --file-bg: #f9fafb;
        --file-border: #ddd;
        --file-hover: #e5e7eb;
        --rag-btn-bg: #f9fafb;
        --rag-btn-border: #d1d5db;
        --rag-btn-hover-bg: #e5e7eb;
    }
}

/* ==========================================================================
   –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã.
   –¢–æ–Ω–∫–∏–µ (8px) —Å —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ –ø–æ–ª–∑—É–Ω–∫–∞–º–∏ –¥–ª—è Webkit-–±—Ä–∞—É–∑–µ—Ä–æ–≤.
   –î–ª—è Firefox –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è scrollbar-width: thin.
   ========================================================================== */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: #aaa;
}
* {
    scrollbar-width: thin;
    scrollbar-color: #888 transparent;
}

* {
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    height: 100vh;
    overflow: hidden;
}

/* ==========================================================================
   –õ–µ–≤–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (—Å–∞–π–¥–±–∞—Ä).
   –°–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ (—Å–≤–µ—Ä—Ö—É) –∏ —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ (—Å–Ω–∏–∑—É).
   –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ 280px, —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –¥–æ 200px –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö.
   ========================================================================== */
.chats-sidebar {
    width: 280px;
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
    display: flex;
    flex-direction: column;
    border-right: 1px solid var(--input-border);
}

.chats-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.chats-header h2 {
    margin: 0;
    font-size: 1.2rem;
    font-weight: 500;
}

.new-chat-btn {
    background: transparent;
    border: 1px solid var(--sidebar-text);
    color: var(--sidebar-text);
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    max-width: 28px;
    max-height: 28px;
    border-radius: 50%;
    font-size: 1.1rem;
    line-height: 1;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-sizing: border-box;
    transition: 0.2s;
}

.new-chat-btn:hover {
    background-color: var(--sidebar-hover);
    border-color: transparent;
}

.chats-list {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
}

.chat-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s;
    margin-bottom: 4px;
    position: relative;
}

.chat-item:hover {
    background-color: var(--sidebar-hover);
}

.chat-item.active {
    background-color: var(--sidebar-hover);
}

.chat-avatar {
    width: 40px;
    height: 40px;
    background-color: var(--button-hover-bg);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: var(--text-color);
    flex-shrink: 0;
}

.chat-info {
    flex: 1;
    overflow: hidden;
}

.chat-name {
    font-weight: 500;
    margin-bottom: 4px;
    color: var(--sidebar-text);
}

.chat-preview {
    font-size: 0.85rem;
    color: rgba(255,255,255,0.6);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.chat-menu-btn {
    background: transparent;
    border: none;
    color: var(--icon-color);
    font-size: 1.2rem;
    padding: 4px;
    cursor: pointer;
    border-radius: 4px;
    opacity: 0.7;
    transition: opacity 0.2s;
    flex-shrink: 0;
    margin-left: auto;
}

.chat-item:hover .chat-menu-btn {
    opacity: 1;
}

.chat-menu-btn:hover {
    background-color: var(--sidebar-hover);
    color: var(--button-hover-color);
}

/* –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —á–∞—Ç–∞ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É ‚Äò‚ãØ‚Äô).
   –î–µ–π—Å—Ç–≤–∏—è: –∑–∞–∫—Ä–µ–ø–∏—Ç—å, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å. */
.chat-menu {
    position: absolute;
    top: 100%;
    right: 10px;
    background-color: var(--menu-bg);
    border: 1px solid var(--menu-border);
    border-radius: 6px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    z-index: 1000;
    min-width: 150px;
    display: block;
}

.chat-menu-item {
    padding: 10px 15px;
    cursor: pointer;
    color: var(--text-color);
    transition: background-color 0.2s;
    white-space: nowrap;
}

.chat-menu-item:hover {
    background-color: var(--menu-hover);
}

.chat-menu-item.delete {
    color: #ff6b6b;
}

.chat-menu-item.pin {
    color: var(--text-color);
}

/* ==========================================================================
   –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞.
   –°–æ–¥–µ—Ä–∂–∏—Ç: –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–∞–≤–∞—Ç–∞—Ä–∫–∏ + –∫–Ω–æ–ø–∫–∏ –ú–æ–¥–µ–ª–∏/RAG),
   –ø–∞–Ω–µ–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–≥–µ–Ω—Ç–æ–≤, –æ–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–ª–µ –≤–≤–æ–¥–∞.
   ========================================================================== */
.chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    background-color: var(--chat-bg);
}

.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    border-bottom: 1px solid var(--input-border);
    background-color: var(--chat-bg);
    gap: 10px;
}

/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –º–∏–Ω–∏-–∞–≤–∞—Ç–∞—Ä–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞.
   –ê–∫—Ç–∏–≤–Ω—ã–π –∞–≥–µ–Ω—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω–µ–π —Ä–∞–º–∫–æ–π.
   –ì–æ–≤–æ—Ä—è—â–∏–π –∞–≥–µ–Ω—Ç –ø—É–ª—å—Å–∏—Ä—É–µ—Ç (–∞–Ω–∏–º–∞—Ü–∏—è pulse). */
.agent-avatars {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
    margin-right: auto;
}

.agent-avatar-mini {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: var(--assistant-avatar-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.2s, opacity 0.2s;
    opacity: 0.7;
}

.agent-avatar-mini.active {
    border-color: var(--input-focus-border);
    opacity: 1;
}

.agent-avatar-mini img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.agent-avatar-mini:hover {
    opacity: 1;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞ –≥–æ–≤–æ—Ä—è—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞.
   –°–∏–Ω–∏–π box-shadow —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞–µ—Ç –≤ —Ü–∏–∫–ª–µ 1—Å. */
.agent-avatar-mini.speaking {
    animation: pulse 1s infinite;
    border-color: var(--input-focus-border);
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 var(--input-focus-border);
        opacity: 1;
    }
    70% {
        box-shadow: 0 0 0 6px rgba(59, 130, 246, 0);
        opacity: 0.8;
    }
    100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
        opacity: 1;
    }
}

/* –ö–Ω–æ–ø–∫–∏-—Ç—Ä–∏–≥–≥–µ—Ä—ã ¬´–ú–æ–¥–µ–ª–∏¬ª –∏ ¬´RAG¬ª –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞.
   –ü—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (.open) –æ–∫—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –≤ —Å–∏–Ω–∏–π —Ü–≤–µ—Ç. */
.agents-toggle {
    background-color: var(--button-bg);
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    font-size: 0.9rem;
    padding: 6px 12px;
    border-radius: 20px;
    cursor: pointer;
    transition: 0.2s;
    white-space: nowrap;
}

.agents-toggle:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

.agents-toggle.open {
    background-color: var(--input-focus-border);
    color: #ffffff;
    border-color: var(--input-focus-border);
}

#rag-btn {
    /* –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ –∂–µ —Å—Ç–∏–ª–∏, —á—Ç–æ –∏ .agents-toggle */
}

/* ==========================================================================
   RAG-–ø–∞–Ω–µ–ª—å ‚Äî –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (memory-service).
   –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ ¬´RAG¬ª.
   –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å RAG-—Ä–µ–∂–∏–º–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
   ========================================================================== */
.rag-panel {
    padding: 10px 20px;
    background-color: var(--chat-bg);
    border-bottom: 1px solid var(--input-border);
}

.rag-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.rag-panel-header h4 {
    margin: 0;
    font-size: 0.9rem;
    color: var(--text-color);
}

.rag-toggle-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    color: var(--text-color);
    cursor: pointer;
}

.rag-description {
    font-size: 0.8rem;
    color: var(--icon-color);
    margin: 0;
    line-height: 1.4;
}

/* ==========================================================================
   –ó–Ω–∞—á–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö —á–∞—Ç–∞.
   –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ pill-–±–µ–π–¥–∂–∏ —Å –∏–∫–æ–Ω–∫–æ–π üìé –∏ –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞.
   –§–∞–π–ª—ã –ù–ï —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ —á–∞—Ç–µ ‚Äî –∞–≥–µ–Ω—Ç —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–µ—Ä–µ–∑ API.
   ========================================================================== */
.message-files {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 4px;
}

.message-file-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background-color: var(--file-bg);
    border: 1px solid var(--file-border);
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 0.8rem;
    color: var(--text-color);
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s;
}

.message-file-badge:hover {
    background-color: var(--file-hover);
    border-color: var(--input-focus-border);
}

.message-model-label {
    font-size: 0.7rem;
    color: var(--icon-color);
    margin-top: 4px;
    opacity: 0.7;
    text-align: right;
}

.message-timestamp {
    font-size: 0.65rem;
    color: var(--icon-color);
    margin-top: 4px;
    opacity: 0.5;
    text-align: right;
}

.message-sources {
    margin-top: 8px;
    padding: 8px;
    background: var(--bg-secondary);
    border-radius: 4px;
    font-size: 0.75rem;
}

.sources-title {
    font-weight: 600;
    margin-bottom: 4px;
    color: var(--text-secondary);
}

.source-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 2px 0;
}

.source-rank {
    color: var(--accent-color);
    font-weight: 600;
    min-width: 20px;
}

.source-title {
    color: var(--text-primary);
}

/* ==========================================================================
   –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è –ø–∞–Ω–µ–ª—å –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–≥–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∞ ¬´–ú–æ–¥–µ–ª–∏¬ª).
   –°–æ–¥–µ—Ä–∂–∏—Ç: –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –õ–æ–∫–∞–ª—å–Ω–∞—è/–û–±–ª–∞—á–Ω–∞—è,
   –∫–∞—Ä—Ç–æ—á–∫—É –∞–≥–µ–Ω—Ç–∞ (admin) –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ,
   —Å–µ–∫—Ü–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
   ========================================================================== */
.agent-panel {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 10px 20px;
    background-color: var(--chat-bg);
    border-bottom: 1px solid var(--input-border);
}

/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–∞ –º–æ–¥–µ–ª–µ–π: ¬´–õ–æ–∫–∞–ª—å–Ω–∞—è¬ª (Ollama) / ¬´–û–±–ª–∞—á–Ω–∞—è¬ª (OpenAI, Anthropic –∏ –¥—Ä.).
   Pill-—Å—Ç–∏–ª—å —Å —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏ (border-radius: 20px). */
.model-mode-toggle {
    display: flex;
    gap: 0;
    margin-bottom: 4px;
    border: 1px solid var(--input-border);
    border-radius: 20px;
    overflow: hidden;
    width: fit-content;
}

.model-mode-btn {
    background: transparent;
    border: none;
    color: var(--icon-color);
    padding: 6px 16px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: 0.2s;
}

.model-mode-btn.active {
    background-color: var(--input-focus-border);
    color: #ffffff;
}

.model-mode-btn:hover:not(.active) {
    background-color: var(--button-hover-bg);
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–≥–µ–Ω—Ç–∞ –≤ –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ–ª–µ–π.
   CSS Grid —Å 6 –∫–æ–ª–æ–Ω–∫–∞–º–∏: –∞–≤–∞—Ç–∞—Ä | –∏–º—è | —Å–µ–ª–µ–∫—Ç –º–æ–¥–µ–ª–∏ | –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –ø—Ä–æ–º–ø—Ç | –∫–Ω–æ–ø–∫–∞.
   –ê–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω–µ–π —Ä–∞–º–∫–æ–π. */
.agent-card {
    display: grid;
    grid-template-columns: 30px auto 1fr 16px auto 30px;
    align-items: center;
    gap: 2px;
    padding: 4px 6px;
    border: 1px solid var(--input-border);
    border-radius: 20px;
    background-color: var(--input-bg);
    cursor: pointer;
    transition: background-color 0.2s;
    width: 100%;
    max-width: 600px;
}

.agent-card.active {
    background-color: var(--sidebar-hover);
    border-color: var(--input-focus-border);
}

.agent-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: var(--assistant-avatar-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    cursor: pointer;
    grid-column: 1;
}

.agent-avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.agent-name {
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap;
    grid-column: 2;
    margin-right: 4px;
}

.agent-model-select {
    background-color: var(--input-bg, #2a2a2a);
    color: var(--text-color);
    border: 1px solid var(--input-border);
    border-radius: 12px;
    padding: 2px 4px;
    font-size: 0.75rem;
    outline: none;
    cursor: pointer;
    -moz-appearance: none;
    -webkit-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23a0a0a0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
    background-repeat: no-repeat;
    background-position: right 4px center;
    background-size: 10px;
    padding-right: 18px;
    white-space: nowrap;
    box-sizing: border-box;
    width: 100%;
    min-width: 0;
    grid-column: 3;
}

.agent-model-select option {
    background-color: #1a1a1a;
    color: #e5e5e5;
    padding: 4px 8px;
}

@media (prefers-color-scheme: light) {
    .agent-model-select option {
        background-color: #ffffff;
        color: #1a1a1a;
    }
}

.tool-warning {
    font-size: 0.9rem;
    cursor: pointer;
    text-align: center;
    grid-column: 4;
    width: 16px;
}

.role-recommendation {
    grid-column: 1 / -1;
    font-size: 0.75rem;
    padding: 2px 6px;
    border-radius: 4px;
    margin-top: 2px;
    line-height: 1.3;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.role-recommendation.suitable {
    color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
}

.role-recommendation.unsuitable {
    color: #ff9800;
    background: rgba(255, 152, 0, 0.1);
}

.agent-prompt-container {
    display: flex;
    align-items: center;
    gap: 2px;
    grid-column: 5 / span 2;
}

.agent-prompt-label {
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap;
    font-size: 0.9rem;
}

.icon-btn.small {
    width: 24px;
    height: 24px;
    font-size: 1rem;
    background: var(--button-bg);
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    cursor: pointer;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
    margin: 0;
    padding: 0;
}

.icon-btn.small:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

/* ==========================================================================
   –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞.
   –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–∞—è –æ–±–ª–∞—Å—Ç—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π 900px.
   –°–æ–æ–±—â–µ–Ω–∏—è: user (—Å–ø—Ä–∞–≤–∞), assistant (—Å–ª–µ–≤–∞, —Å –∞–≤–∞—Ç–∞—Ä–æ–º), system (–ø–æ —Ü–µ–Ω—Ç—Ä—É).
   –û—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —É–º–µ–Ω—å—à–µ–Ω—ã –¥–æ 4px –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏.
   ========================================================================== */
.chat-messages {
    flex: 1 1 auto;
    overflow-y: auto;
    padding: 20px;
    max-width: 900px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 4px; /* —É–º–µ–Ω—å—à–µ–Ω–æ —Å 8px */
    min-height: 0;
}

.message {
    display: flex;
    max-width: 100%;
    line-height: 1.6;
    font-size: 1rem;
    color: var(--text-color);
}

.message.user {
    justify-content: flex-end;
}

.message.assistant {
    justify-content: flex-start;
}

.message.system {
    justify-content: center;
    font-style: italic;
    opacity: 0.8;
}

.message-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background-color: var(--assistant-avatar-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    margin-right: 12px;
    flex-shrink: 0;
}

.message-avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.message.user .message-avatar {
    display: none;
}

.message-content {
    max-width: 70%;
    padding: 6px 12px;
    border-radius: 18px;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: 1.4;
}

.message.user .message-content {
    background-color: var(--user-msg-bg);
    border-bottom-right-radius: 4px;
    padding: 4px 12px;
}

.message.assistant .message-content {
    background-color: transparent;
    border-bottom-left-radius: 4px;
    padding: 4px 0;
}

.message.system .message-content {
    background-color: transparent;
    text-align: center;
}

/* –û—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (–∞–±–∑–∞—Ü—ã, —Å–ø–∏—Å–∫–∏).
   –£–º–µ–Ω—å—à–µ–Ω—ã –≤ 2 —Ä–∞–∑–∞ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. */
.message-content p {
    margin: 0 0 0.15em 0;
}

.message-content p:last-child {
    margin-bottom: 0;
}

.message-content p + p {
    margin-top: 0.15em;
}

.message-content ul, .message-content ol {
    margin: 0.15em 0;
    padding-left: 1.5em;
}

.message-content li {
    margin: 0;
    padding: 0;
}

.message-content li > p {
    margin: 0;
}

.message-content li > p + p {
    margin-top: 0.1em;
}

.message-content h1, .message-content h2, .message-content h3,
.message-content h4, .message-content h5, .message-content h6 {
    margin: 0.3em 0 0.15em 0;
    line-height: 1.3;
}

.message-content h1:first-child, .message-content h2:first-child,
.message-content h3:first-child, .message-content h4:first-child {
    margin-top: 0;
}

.message-content blockquote {
    margin: 0.2em 0;
    padding: 0.1em 0.5em;
    border-left: 3px solid var(--input-border);
}

.message-content hr {
    margin: 0.3em 0;
}

/* Inline-–∫–æ–¥ (–∫–æ–º–∞–Ω–¥—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–µ).
   –í—ã–¥–µ–ª—è–µ—Ç—Å—è —Ñ–æ–Ω–æ–º –∏ –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º.
   –ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∫–æ–¥—É –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤ .code-block. */
.message-content code:not(.code-block code) {
    background-color: var(--user-msg-bg);
    color: var(--text-color);
    padding: 2px 4px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
}

/* ==========================================================================
   –ë–ª–æ–∫–∏ –∫–æ–¥–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ (react-syntax-highlighter).
   –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –∑–∞–≥–æ–ª–æ–≤–æ–∫ (—è–∑—ã–∫ + –∫–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è) + —Ç–µ–ª–æ –∫–æ–¥–∞.
   –ó–∞–≥–æ–ª–æ–≤–æ–∫ sticky ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è –≤–∏–¥–∏–º—ã–º –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.
   ========================================================================== */
.code-block {
    margin: 0 !important;
    border: 1px solid var(--code-border);
    border-radius: 8px;
    background-color: transparent;
    display: flex;
    flex-direction: column;
}

.code-block-header {
    position: sticky;
    top: 0;
    z-index: 10;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 12px;
    background-color: var(--code-header-bg);
    backdrop-filter: blur(2px);
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    font-size: 0.8rem;
    font-family: 'Courier New', monospace;
}

.copy-code-btn {
    background: transparent;
    border: none;
    color: inherit;
    font-size: 1.2rem;
    padding: 2px 6px;
    cursor: pointer;
    border-radius: 4px;
}

.copy-code-btn:hover {
    background: rgba(255,255,255,0.2);
}

.code-content {
    padding: 0 8px 12px 8px !important;
    overflow-x: auto;
    font-size: 0.9rem;
    background-color: var(--input-bg);
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
    padding-top: 0 !important;
    margin: 0 !important;
}

.code-content pre {
    margin: 0 !important;
    padding: 0 !important;
    background: transparent;
    color: inherit;
    font-family: inherit;
    font-size: inherit;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.code-content code {
    background: transparent;
    color: inherit;
    padding: 0 !important;
    margin: 0 !important;
}

.pin-icon {
    margin-right: 4px;
    font-size: 0.85rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 4px;
    background: rgba(59, 130, 246, 0.15);
    vertical-align: middle;
    line-height: 1;
}

/* ==========================================================================
   –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
   –û–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–π –∏–Ω–ø—É—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏: –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª (üìé),
   –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ (üéôÔ∏è), –æ—Ç–ø—Ä–∞–≤–∫–∞ (‚Üí).
   –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ —Ä–∞–º–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω–∏–º.
   ========================================================================== */
.chat-input-container {
    flex-shrink: 0;
    padding: 20px;
    border-top: 1px solid var(--input-border);
    background-color: var(--chat-bg);
}

.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    max-width: 900px;
    margin: 0 auto;
    background-color: var(--input-bg);
    border: 1px solid var(--input-border);
    border-radius: 30px;
    transition: border-color 0.2s;
}

.input-wrapper:focus-within {
    border-color: var(--input-focus-border);
}

#user-input {
    flex: 1;
    padding: 14px 20px;
    border: none;
    background: transparent;
    color: var(--text-color);
    font-size: 1rem;
    resize: vertical;
    outline: none;
    line-height: 1.5;
    max-height: 200px;
    overflow-y: auto;
}

.input-buttons {
    display: flex;
    gap: 4px;
    padding-right: 8px;
    align-items: center;
}

.provider-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 8px;
    padding: 4px 0;
}

.provider-chip {
    padding: 4px 10px;
    border-radius: 12px;
    border: 1px solid var(--input-border);
    background: var(--button-bg);
    color: var(--text-color);
    font-size: 0.75rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
    transition: all 0.2s;
    white-space: nowrap;
}

.provider-chip:hover {
    border-color: var(--accent-color);
}

.provider-chip.active {
    background: var(--accent-color);
    color: #fff;
    border-color: var(--accent-color);
}

.provider-chip.refresh {
    font-size: 0.9rem;
    padding: 4px 8px;
}

.provider-chip-count {
    background: rgba(255,255,255,0.2);
    padding: 0 5px;
    border-radius: 8px;
    font-size: 0.7rem;
}

.provider-chip.active .provider-chip-count {
    background: rgba(255,255,255,0.3);
}

.provider-chip-nokey {
    color: #ff9800;
    font-weight: bold;
    font-size: 0.7rem;
}

.rag-file-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--input-border);
    border-radius: 8px;
    padding: 4px;
}

.rag-folder-group {
    border: 1px solid var(--input-border);
    border-radius: 6px;
    overflow: hidden;
}

.rag-folder-header {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    background: var(--panel-header-bg, #333);
    font-weight: 500;
}

.rag-folder-icon {
    font-size: 1rem;
}

.rag-folder-name {
    flex: 1;
    font-size: 0.85rem;
    color: var(--text-color);
}

.rag-folder-count {
    font-size: 0.75rem;
    color: var(--icon-color);
}

.rag-folder-delete {
    background: none;
    border: none;
    color: #ff6b6b;
    cursor: pointer;
    font-size: 0.9rem;
    padding: 2px 6px;
    opacity: 0.7;
}

.rag-folder-delete:hover {
    opacity: 1;
}

.rag-folder-files {
    padding: 4px 8px;
    background: var(--settings-bg);
}

.rag-more-files {
    font-size: 0.75rem;
    color: var(--icon-color);
    font-style: italic;
    padding: 2px 0;
}

.rag-file-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.8rem;
    background: var(--button-bg);
}

.rag-file-item:hover {
    background: var(--input-bg);
}

.rag-file-icon {
    font-size: 0.9rem;
    flex-shrink: 0;
}

.rag-file-name {
    flex: 1;
    color: var(--text-color);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.rag-file-chunks {
    font-size: 0.7rem;
    color: var(--icon-color);
    white-space: nowrap;
}

.rag-file-delete {
    background: none;
    border: none;
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.75rem;
    padding: 2px 4px;
    border-radius: 4px;
    opacity: 0.5;
    flex-shrink: 0;
}

.rag-file-delete:hover {
    opacity: 1;
    color: #ff6b6b;
    background: rgba(255, 107, 107, 0.1);
}

.logs-slide-panel {
    position: fixed;
    top: 0;
    right: -420px;
    width: 400px;
    height: 100vh;
    background: var(--sidebar-bg);
    border-left: 1px solid var(--input-border);
    font-size: 0.85rem;
    z-index: 1000;
    transition: right 0.3s ease;
    display: flex;
    flex-direction: column;
    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
}

.logs-slide-panel.open {
    right: 0;
}

.logs-slide-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid var(--input-border);
    color: var(--text-color);
}

.logs-close-btn {
    background: none;
    border: none;
    color: var(--icon-color);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 0 4px;
    line-height: 1;
}

.logs-close-btn:hover {
    color: var(--text-color);
}

.logs-toolbar {
    display: flex;
    gap: 8px;
    align-items: center;
    padding: 8px 16px;
    border-bottom: 1px solid var(--input-border);
    flex-wrap: wrap;
}

.logs-toolbar select {
    padding: 4px 8px;
    border-radius: 6px;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--text-color);
    font-size: 0.8rem;
    cursor: pointer;
}

.logs-refresh-btn {
    background: var(--button-bg);
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    cursor: pointer;
    border-radius: 6px;
    padding: 4px 10px;
    font-size: 0.9rem;
}

.logs-refresh-btn:hover {
    background: var(--input-bg);
}

.logs-count {
    font-size: 0.75rem;
    color: var(--icon-color);
    margin-left: auto;
}

.logs-list {
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 8px 16px;
}

.logs-empty {
    text-align: center;
    color: var(--icon-color);
    font-style: italic;
    padding: 16px 0;
    font-size: 0.8rem;
}

.log-entry {
    padding: 6px 10px;
    border-radius: 6px;
    background: var(--button-bg);
    border-left: 3px solid var(--input-border);
}

.log-entry.log-error {
    border-left-color: #ff6b6b;
}

.log-entry.log-warn {
    border-left-color: #ffa726;
}

.log-entry.log-info {
    border-left-color: #42a5f5;
}

.log-entry.log-resolved {
    opacity: 0.5;
}

.log-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 2px;
}

.log-level-badge {
    font-size: 0.65rem;
    font-weight: 700;
    padding: 1px 6px;
    border-radius: 4px;
    text-transform: uppercase;
}

.log-badge-error {
    background: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
}

.log-badge-warn {
    background: rgba(255, 167, 38, 0.2);
    color: #ffa726;
}

.log-badge-info {
    background: rgba(66, 165, 245, 0.2);
    color: #42a5f5;
}

.log-service {
    font-size: 0.7rem;
    color: var(--icon-color);
    font-weight: 500;
}

.log-time {
    font-size: 0.65rem;
    color: var(--icon-color);
    margin-left: auto;
}

.log-resolve-btn {
    background: none;
    border: 1px solid var(--input-border);
    color: var(--icon-color);
    cursor: pointer;
    font-size: 0.7rem;
    padding: 1px 6px;
    border-radius: 4px;
    line-height: 1;
}

.log-resolve-btn.resolved {
    color: #4caf50;
    border-color: #4caf50;
}

.log-resolve-btn:hover {
    background: var(--input-bg);
}

.log-message {
    font-size: 0.8rem;
    color: var(--text-color);
    line-height: 1.4;
}

.log-details {
    font-size: 0.72rem;
    color: var(--icon-color);
    margin-top: 2px;
    padding: 4px 8px;
    background: var(--input-bg);
    border-radius: 4px;
    white-space: pre-wrap;
    word-break: break-all;
    max-height: 80px;
    overflow-y: auto;
}

.input-buttons-vertical {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding-right: 6px;
    align-items: center;
}

.icon-btn {
    background: var(--button-bg);
    border: none;
    color: var(--icon-color);
    font-size: 1.2rem;
    padding: 8px;
    cursor: pointer;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
    flex-shrink: 0;
}

.input-side-btn {
    width: 32px;
    height: 32px;
    font-size: 1.1rem;
    padding: 0;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--icon-color);
    margin: 0 4px;
}

.input-side-btn:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
    border-color: var(--input-focus-border);
}

.icon-btn:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

#mic-btn {
    color: var(--icon-color);
}

#mic-btn.listening {
    background-color: #ff4444;
    color: white;
}

/* ==========================================================================
   –ü—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞).
   –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª ‚Äî pill-—Ç–µ–≥ —Å –∏–º–µ–Ω–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è (x).
   ========================================================================== */
.attached-files {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    padding: 8px 20px 0;
    max-width: 900px;
    margin: 0 auto;
}

.attached-file-tag {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background-color: var(--file-bg);
    border: 1px solid var(--file-border);
    border-radius: 16px;
    padding: 4px 10px;
    font-size: 0.85rem;
    color: var(--text-color);
}

.attached-file-tag:hover {
    background-color: var(--file-hover);
}

.remove-file-btn {
    background: transparent;
    border: none;
    color: #ff6b6b;
    font-size: 0.9rem;
    cursor: pointer;
    padding: 0 2px;
    line-height: 1;
}

/* ==========================================================================
   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω—ã—Ö LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
   –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ–ª–µ–π –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–µ–∂–∏–º–∞ ¬´–û–±–ª–∞—á–Ω–∞—è¬ª.
   –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –ø–æ–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
   (API Key, Folder ID, Scope, Base URL), –∫–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
   ========================================================================== */
.provider-config-section {
    margin-top: 8px;
    padding: 10px;
    border: 1px solid var(--input-border);
    border-radius: 8px;
    background-color: var(--input-bg);
    max-width: 600px;
}

.provider-config-section h4 {
    margin: 0 0 8px 0;
    font-size: 0.9rem;
    color: var(--text-color);
}

.provider-config-row {
    display: flex;
    gap: 8px;
    margin-bottom: 6px;
    align-items: center;
}

.provider-config-row label {
    font-size: 0.8rem;
    color: var(--icon-color);
    min-width: 80px;
}

.provider-config-row input,
.provider-config-row select {
    flex: 1;
    padding: 4px 8px;
    border: 1px solid var(--input-border);
    border-radius: 6px;
    background-color: var(--chat-bg);
    color: var(--text-color);
    font-size: 0.85rem;
    outline: none;
}

.provider-config-row input:focus {
    border-color: var(--input-focus-border);
}

.provider-save-btn {
    padding: 4px 12px;
    border: 1px solid var(--input-border);
    border-radius: 12px;
    background-color: var(--input-focus-border);
    color: #ffffff;
    cursor: pointer;
    font-size: 0.8rem;
    transition: 0.2s;
}

.provider-save-btn:hover {
    opacity: 0.8;
}

/* ==========================================================================
   –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ (Workspaces) –≤ —Å–∞–π–¥–±–∞—Ä–µ.
   –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤.
   –ö–∞–∂–¥–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ: –∏–∫–æ–Ω–∫–∞ + –∏–º—è + –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏).
   ¬´–û–±—â–µ–µ¬ª ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
   ========================================================================== */
.workspaces-section {
    padding: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.workspaces-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.workspaces-header h3 {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--sidebar-text);
}

.workspace-add-btn {
    background: transparent;
    border: 1px solid var(--sidebar-text);
    color: var(--sidebar-text);
    width: 22px;
    height: 22px;
    min-width: 22px;
    min-height: 22px;
    max-width: 22px;
    max-height: 22px;
    border-radius: 50%;
    font-size: 0.9rem;
    line-height: 1;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-sizing: border-box;
    transition: 0.2s;
}

.workspace-add-btn:hover {
    background-color: var(--sidebar-hover);
}

.workspace-list {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.workspace-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 0.85rem;
    color: var(--sidebar-text);
}

.workspace-item:hover {
    background-color: var(--sidebar-hover);
}

.workspace-item.active {
    background-color: var(--sidebar-hover);
    font-weight: 500;
}

.workspace-item .ws-icon {
    font-size: 1rem;
}

.workspace-item .ws-name {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.workspace-item .ws-delete {
    background: transparent;
    border: none;
    color: #ff6b6b;
    cursor: pointer;
    font-size: 0.8rem;
    padding: 2px;
    opacity: 0;
    transition: opacity 0.2s;
}

.workspace-item:hover .ws-delete {
    opacity: 1;
}

/* ==========================================================================
   –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –º–µ–Ω—å—à–µ 768px.
   –£–º–µ–Ω—å—à–∞–µ—Ç—Å—è —Å–∞–π–¥–±–∞—Ä, —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –æ–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π.
   ========================================================================== */
@media (max-width: 768px) {
    .chats-sidebar {
        width: 200px;
    }
    .chat-messages {
        max-width: 100%;
        padding: 10px;
    }
    .message-content {
        max-width: 85%;
    }
    #rag-btn span:last-child {
        display: none;
    }
    .agent-card {
        grid-template-columns: 30px auto 1fr 16px auto 30px;
    }
}

.chat-messages {
    overflow-y: auto;
    flex: 1 1 auto;
    min-height: 0;
}

/* ==========================================================================
   –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –ø—Ä–æ–º–ø—Ç–∞.
   –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ (‚úê) –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∞–≥–µ–Ω—Ç–∞.
   –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑ prompts/{agent}/ —Å radio-–≤—ã–±–æ—Ä–æ–º.
   ========================================================================== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.modal {
    background-color: var(--chat-bg);
    border: 1px solid var(--input-border);
    border-radius: 8px;
    padding: 20px;
    min-width: 300px;
    max-width: 500px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.modal h3 {
    margin-top: 0;
    color: var(--text-color);
}

.modal-content {
    margin: 15px 0;
    max-height: 300px;
    overflow-y: auto;
}

.modal-content ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.modal-content li {
    padding: 8px;
    border-bottom: 1px solid var(--input-border);
}

.modal-content li label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    color: var(--text-color);
}

.modal-content li:hover {
    background-color: var(--sidebar-hover);
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
}

.modal-actions button {
    padding: 8px 16px;
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--button-bg);
    color: var(--text-color);
    cursor: pointer;
    transition: 0.2s;
}

.modal-actions button:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
}

.modal-actions button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.provider-guide-panel {
    margin-top: 6px;
    background: var(--sidebar-bg, #1a1a2e);
    border: 1px solid var(--input-border, #444);
    border-radius: 6px;
    overflow: hidden;
}

.guide-tabs {
    display: flex;
    border-bottom: 1px solid var(--input-border, #444);
}

.guide-tab {
    flex: 1;
    padding: 4px 6px;
    border: none;
    background: transparent;
    color: var(--text-muted, #888);
    font-size: 0.72rem;
    cursor: pointer;
    transition: 0.2s;
    white-space: nowrap;
}

.guide-tab:hover {
    background: rgba(255,255,255,0.05);
    color: var(--text-color, #eee);
}

.guide-tab.active {
    background: rgba(52,152,219,0.15);
    color: #3498db;
    border-bottom: 2px solid #3498db;
}

.guide-content {
    padding: 6px 8px;
    max-height: 180px;
    overflow-y: auto;
}

.guide-content pre {
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
    font-family: inherit;
    font-size: 0.78rem;
    line-height: 1.35;
    color: var(--text-color, #ddd);
}
